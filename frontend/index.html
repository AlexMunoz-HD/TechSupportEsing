<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TechSupport - Dashboard de Orquestación y Auditoría</title>
    
    <style>
        /* Ensure perfect circular avatars */
        .user-avatar {
            height: 2rem;
            width: 2rem;
            border-radius: 50%;
            background: linear-gradient(135deg, #2563eb, #7c3aed);
            display: flex;
            align-items: center;
            justify-content: center;
            flex-shrink: 0;
            min-width: 2rem;
            min-height: 2rem;
        }
        
        .user-avatar span {
            color: white;
            font-size: 0.875rem;
            font-weight: 600;
            line-height: 1;
        }

        /* Login Success Animation */
        .login-success-animation {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, #10B981, #059669);
            z-index: 9999;
            display: flex;
            align-items: center;
            justify-content: center;
            opacity: 0;
            transform: scale(0);
            transition: all 0.6s cubic-bezier(0.68, -0.55, 0.265, 1.55);
        }

        .login-success-animation.show {
            opacity: 1;
            transform: scale(1);
        }

        .login-success-content {
            text-align: center;
            color: white;
            transform: translateY(20px);
            opacity: 0;
            transition: all 0.8s ease-out 0.3s;
        }

        .login-success-animation.show .login-success-content {
            transform: translateY(0);
            opacity: 1;
        }

        .login-success-icon {
            font-size: 4rem;
            margin-bottom: 1rem;
            animation: bounce 0.6s ease-out 0.5s;
        }

        .login-success-title {
            font-size: 2.5rem;
            font-weight: bold;
            margin-bottom: 0.5rem;
            text-shadow: 0 2px 4px rgba(0,0,0,0.3);
            animation: titleGlow 2s ease-in-out infinite alternate;
        }

        @keyframes titleGlow {
            0% {
                text-shadow: 0 2px 4px rgba(0,0,0,0.3), 0 0 10px rgba(255,255,255,0.3);
                transform: scale(1);
            }
            100% {
                text-shadow: 0 2px 4px rgba(0,0,0,0.3), 0 0 20px rgba(255,255,255,0.6);
                transform: scale(1.05);
            }
        }

        .login-success-subtitle {
            font-size: 1.2rem;
            opacity: 0.9;
            text-shadow: 0 1px 2px rgba(0,0,0,0.3);
        }

        @keyframes bounce {
            0%, 20%, 50%, 80%, 100% {
                transform: translateY(0);
            }
            40% {
                transform: translateY(-10px);
            }
            60% {
                transform: translateY(-5px);
            }
        }

        /* Pulse animation for the background */
        .login-success-animation::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 0;
            height: 0;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 50%;
            transform: translate(-50%, -50%);
            animation: pulse 1.5s ease-out;
        }

        @keyframes pulse {
            0% {
                width: 0;
                height: 0;
                opacity: 1;
            }
            100% {
                width: 200px;
                height: 200px;
                opacity: 0;
            }
        }

        /* Dark mode styles */
        [data-theme="dark"] {
            color-scheme: dark;
        }

        [data-theme="dark"] body,
        [data-theme="dark"] html {
            background-color: #111827 !important;
            color: #f9fafb !important;
        }

        /* Dashboard container dark mode */
        [data-theme="dark"] #dashboard {
            background-color: #111827 !important;
        }

        /* Header dark mode */
        [data-theme="dark"] header {
            background-color: rgba(31, 41, 55, 0.8) !important;
            backdrop-filter: blur(16px) !important;
            border-bottom-color: rgba(55, 65, 81, 0.5) !important;
        }

        /* Navigation dark mode */
        [data-theme="dark"] .nav-link {
            color: #d1d5db !important;
        }

        [data-theme="dark"] .nav-link:hover {
            color: #f9fafb !important;
        }

        /* Search bar dark mode */
        [data-theme="dark"] #globalSearch {
            background-color: #374151 !important;
            border-color: #4b5563 !important;
            color: #f9fafb !important;
        }

        [data-theme="dark"] #globalSearch:focus {
            background-color: #1f2937 !important;
            border-color: #3b82f6 !important;
        }

        [data-theme="dark"] #globalSearch::placeholder {
            color: #9ca3af !important;
        }

        /* Buttons dark mode */
        [data-theme="dark"] button[style*="color: #86868b"] {
            color: #9ca3af !important;
        }

        [data-theme="dark"] button[style*="color: #86868b"]:hover {
            color: #f9fafb !important;
        }

        /* Dropdowns dark mode */
        [data-theme="dark"] #responsibilityDropdown,
        [data-theme="dark"] #notificationDropdown,
        [data-theme="dark"] #userDropdown {
            background-color: rgba(31, 41, 55, 0.95) !important;
            border-color: rgba(55, 65, 81, 0.5) !important;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.5) !important;
        }

        [data-theme="dark"] #responsibilityDropdown a,
        [data-theme="dark"] #userDropdown a,
        [data-theme="dark"] #notificationDropdown .px-5 {
            color: #f9fafb !important;
        }

        [data-theme="dark"] #responsibilityDropdown a:hover,
        [data-theme="dark"] #userDropdown a:hover {
            background-color: #374151 !important;
        }

        [data-theme="dark"] #responsibilityDropdown p[style*="color: #86868b"],
        [data-theme="dark"] #userDropdown p[style*="color: #86868b"] {
            color: #9ca3af !important;
        }

        [data-theme="dark"] #userDropdown .border-b[style*="border-color"] {
            border-color: rgba(55, 65, 81, 0.5) !important;
        }

        /* Mobile menu dark mode */
        [data-theme="dark"] #mobileMenu {
            background-color: rgba(31, 41, 55, 0.95) !important;
            border-color: rgba(55, 65, 81, 0.5) !important;
        }

        [data-theme="dark"] #mobileMenu a {
            color: #f9fafb !important;
        }

        [data-theme="dark"] #mobileMenu a:hover {
            background-color: #374151 !important;
        }

        [data-theme="dark"] #mobileMenu .border-t[style*="border-color"] {
            border-color: rgba(55, 65, 81, 0.5) !important;
        }

        [data-theme="dark"] .bg-white {
            background-color: #1f2937 !important;
        }

        [data-theme="dark"] .bg-gray-50 {
            background-color: #374151 !important;
        }

        [data-theme="dark"] .bg-gray-100 {
            background-color: #4b5563 !important;
        }

        [data-theme="dark"] .text-gray-900 {
            color: #f9fafb !important;
        }

        [data-theme="dark"] .text-gray-700 {
            color: #d1d5db !important;
        }

        [data-theme="dark"] .text-gray-600 {
            color: #9ca3af !important;
        }

        [data-theme="dark"] .text-gray-500 {
            color: #6b7280 !important;
        }

        [data-theme="dark"] .border-gray-200 {
            border-color: #374151 !important;
        }

        [data-theme="dark"] .border-gray-300 {
            border-color: #4b5563 !important;
        }

        [data-theme="dark"] .divide-gray-200 > * + * {
            border-color: #374151 !important;
        }

        [data-theme="dark"] .hover\:bg-gray-50:hover {
            background-color: #374151 !important;
        }

        [data-theme="dark"] .hover\:bg-gray-100:hover {
            background-color: #4b5563 !important;
        }

        [data-theme="dark"] .shadow-sm {
            box-shadow: 0 1px 2px 0 rgba(0, 0, 0, 0.3) !important;
        }

        [data-theme="dark"] .shadow {
            box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.3), 0 1px 2px 0 rgba(0, 0, 0, 0.2) !important;
        }

        [data-theme="dark"] .shadow-lg {
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.3), 0 4px 6px -2px rgba(0, 0, 0, 0.2) !important;
        }

        [data-theme="dark"] input, [data-theme="dark"] select, [data-theme="dark"] textarea {
            background-color: #374151 !important;
            border-color: #4b5563 !important;
            color: #f9fafb !important;
        }

        [data-theme="dark"] input::placeholder, [data-theme="dark"] textarea::placeholder {
            color: #9ca3af !important;
        }

        [data-theme="dark"] input:focus, [data-theme="dark"] select:focus, [data-theme="dark"] textarea:focus {
            border-color: #3b82f6 !important;
            box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1) !important;
        }

        /* Modal dark mode */
        [data-theme="dark"] .modal-content {
            background-color: #1f2937 !important;
            border-color: #374151 !important;
        }

        [data-theme="dark"] .modal-header {
            border-bottom-color: #374151 !important;
        }

        [data-theme="dark"] .modal-footer {
            border-top-color: #374151 !important;
        }

        /* Button dark mode */
        [data-theme="dark"] .btn-secondary {
            background-color: #374151 !important;
            color: #f9fafb !important;
            border-color: #4b5563 !important;
        }

        [data-theme="dark"] .btn-secondary:hover {
            background-color: #4b5563 !important;
        }

        /* Dropdown dark mode */
        [data-theme="dark"] .dropdown-menu {
            background-color: #1f2937 !important;
            border-color: #374151 !important;
        }

        /* Search suggestions dark mode */
        [data-theme="dark"] #searchSuggestions {
            background-color: #1f2937 !important;
            border-color: #374151 !important;
        }

        [data-theme="dark"] .suggestion-item {
            color: #f9fafb !important;
        }

        [data-theme="dark"] .suggestion-item:hover {
            background-color: #374151 !important;
        }

        [data-theme="dark"] .suggestion-item.bg-blue-50 {
            background-color: #1e3a8a !important;
        }

        [data-theme="dark"] .suggestion-item .text-gray-900 {
            color: #f9fafb !important;
        }

        [data-theme="dark"] .suggestion-item .text-gray-500 {
            color: #9ca3af !important;
        }

        [data-theme="dark"] .dropdown-item:hover {
            background-color: #374151 !important;
        }

        /* Table dark mode */
        [data-theme="dark"] table {
            background-color: #1f2937 !important;
        }

        [data-theme="dark"] thead {
            background-color: #374151 !important;
        }

        [data-theme="dark"] tbody tr:hover {
            background-color: #374151 !important;
        }

        /* Progress bar dark mode */
        [data-theme="dark"] .progress-bar {
            background-color: #374151 !important;
        }

        [data-theme="dark"] .progress-fill {
            background-color: #3b82f6 !important;
        }

        /* Status badges dark mode */
        [data-theme="dark"] .badge-success {
            background-color: #065f46 !important;
            color: #6ee7b7 !important;
        }

        [data-theme="dark"] .badge-warning {
            background-color: #92400e !important;
            color: #fcd34d !important;
        }

        [data-theme="dark"] .badge-danger {
            background-color: #991b1b !important;
            color: #fca5a5 !important;
        }

        [data-theme="dark"] .badge-info {
            background-color: #1e40af !important;
            color: #93c5fd !important;
        }

        /* Cards and containers dark mode */
        [data-theme="dark"] .bg-white\/95,
        [data-theme="dark"] .bg-white\/80 {
            background-color: rgba(31, 41, 55, 0.95) !important;
        }

        /* Text colors dark mode */
        [data-theme="dark"] [style*="color: #1d1d1f"] {
            color: #f9fafb !important;
        }

        [data-theme="dark"] [style*="color: #86868b"] {
            color: #9ca3af !important;
        }

        /* Background colors dark mode */
        [data-theme="dark"] [style*="background: #f5f5f7"] {
            background-color: #374151 !important;
        }

        [data-theme="dark"] [style*="background: #fbfbfd"] {
            background-color: #111827 !important;
        }

        [data-theme="dark"] [style*="background-color: #f5f5f7"] {
            background-color: #374151 !important;
        }

        [data-theme="dark"] [style*="background-color: transparent"]:hover {
            background-color: #374151 !important;
        }

        /* Border colors dark mode */
        [data-theme="dark"] [style*="border-color: rgba(0,0,0,0.08)"] {
            border-color: rgba(55, 65, 81, 0.5) !important;
        }

        [data-theme="dark"] [style*="border-color: rgba(0,0,0,0.12)"] {
            border-color: rgba(55, 65, 81, 0.7) !important;
        }

        /* Hover effects dark mode */
        [data-theme="dark"] [onmouseover*="backgroundColor='#f5f5f7'"]:hover {
            background-color: #374151 !important;
        }

        [data-theme="dark"] [onmouseover*="backgroundColor='#fff5f5'"]:hover {
            background-color: rgba(127, 29, 29, 0.2) !important;
        }

        /* Notification dropdown dark mode */
        [data-theme="dark"] #notificationList {
            background-color: transparent !important;
        }

        [data-theme="dark"] #notificationList .border-b[style*="border-color"] {
            border-color: rgba(55, 65, 81, 0.5) !important;
        }

        /* Main sections dark mode */
        [data-theme="dark"] main,
        [data-theme="dark"] section {
            background-color: transparent !important;
        }

        /* Cards dark mode */
        [data-theme="dark"] .card,
        [data-theme="dark"] [class*="card"] {
            background-color: #1f2937 !important;
            border-color: #374151 !important;
        }

        /* Overlays and modals dark mode */
        [data-theme="dark"] .overlay,
        [data-theme="dark"] .modal-overlay {
            background-color: rgba(0, 0, 0, 0.7) !important;
        }

        /* All text elements dark mode */
        [data-theme="dark"] h1,
        [data-theme="dark"] h2,
        [data-theme="dark"] h3,
        [data-theme="dark"] h4,
        [data-theme="dark"] h5,
        [data-theme="dark"] h6,
        [data-theme="dark"] p,
        [data-theme="dark"] span,
        [data-theme="dark"] div {
            color: inherit;
        }

        /* SVG icons dark mode */
        [data-theme="dark"] svg[style*="color: #86868b"] {
            color: #9ca3af !important;
        }

        [data-theme="dark"] svg[style*="color: #1d1d1f"] {
            color: #f9fafb !important;
        }

        /* Calendar dark mode */
        [data-theme="dark"] #calendar-section {
            background-color: #111827 !important;
        }

        [data-theme="dark"] #calendarContainer {
            background-color: #1f2937 !important;
            border-color: #374151 !important;
        }

        [data-theme="dark"] #calendarContainer .bg-white {
            background-color: #1f2937 !important;
        }

        [data-theme="dark"] #calendarContainer .bg-blue-50 {
            background-color: rgba(59, 130, 246, 0.2) !important;
        }

        [data-theme="dark"] #calendarContainer [style*="border-color"] {
            border-color: #374151 !important;
        }

        /* Reminders dark mode */
        [data-theme="dark"] #remindersContainer .reminder-card {
            background-color: #1f2937 !important;
        }
    </style>
    <link rel="icon" type="image/svg+xml" href="/favicon.svg">
    <!-- Tailwind CSS - Local build for production -->
    <link href="./css/tailwind.css" rel="stylesheet">
    <script src="https://cdn.socket.io/4.7.4/socket.io.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <!-- Flaticon SVG Icons - Using inline SVG for better control -->
    <style>
        .flaticon-icon {
            display: inline-block;
            width: 1em;
            height: 1em;
            stroke-width: 1.5;
            fill: currentColor;
            stroke: currentColor;
        }
    </style>
    <style>
        .gradient-bg {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }
        .card-shadow {
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
        }
        
        /* Professional Animations */
        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        @keyframes fadeInUpDelay {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        @keyframes gradientX {
            0%, 100% {
                background-position: 0% 50%;
            }
            50% {
                background-position: 100% 50%;
            }
        }
        
        .animate-fade-in-up {
            animation: fadeInUp 0.8s ease-out forwards;
            opacity: 0;
        }
        
        .animate-fade-in-up-delay {
            animation: fadeInUpDelay 0.8s ease-out 0.3s forwards;
            opacity: 0;
        }
        
        .animate-gradient-x {
            background-size: 200% 200%;
            animation: gradientX 3s ease infinite;
        }
        
        /* Floating animation for abstract shapes */
        @keyframes float {
            0%, 100% {
                transform: translateY(0px) rotate(0deg);
            }
            50% {
                transform: translateY(-20px) rotate(5deg);
            }
        }
        
        .animate-float {
            animation: float 6s ease-in-out infinite;
        }
        
        .animate-float-delay {
            animation: float 6s ease-in-out infinite 2s;
        }
        
        /* Enhanced animations for SVG elements */
        @keyframes pulse-glow {
            0%, 100% {
                opacity: 0.6;
                filter: drop-shadow(0 0 5px rgba(59, 130, 246, 0.3));
            }
            50% {
                opacity: 1;
                filter: drop-shadow(0 0 15px rgba(59, 130, 246, 0.6));
            }
        }
        
        @keyframes orbit {
            from {
                transform: rotate(0deg) translateX(40px) rotate(0deg);
            }
            to {
                transform: rotate(360deg) translateX(40px) rotate(-360deg);
            }
        }
        
        .animate-pulse-glow {
            animation: pulse-glow 2s ease-in-out infinite;
        }
        
        .animate-orbit {
            animation: orbit 8s linear infinite;
        }
        .dashboard-container {
            min-height: calc(100vh - 64px);
            padding: 1.5rem;
            max-width: 1400px;
            margin: 0 auto;
        }
        .stats-grid {
            display: grid;
            grid-template-columns: 1fr;
            gap: 1rem;
        }
        
        @media (min-width: 640px) {
            .stats-grid {
                grid-template-columns: repeat(2, 1fr);
                gap: 1.25rem;
            }
        }
        
        @media (min-width: 1024px) {
            .stats-grid {
                grid-template-columns: repeat(4, 1fr);
                gap: 1.75rem;
            }
        }
        
        .stats-grid {
            margin-bottom: 1.5rem;
        }
        
        @media (min-width: 640px) {
            .stats-grid {
                margin-bottom: 2rem;
            }
        }
        
        @media (min-width: 1024px) {
            .stats-grid {
                margin-bottom: 2.5rem;
            }
        }
        
        /* Card hover effects - Apple style */
        .stats-card {
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            cursor: default;
        }
        
        .stats-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0,0,0,0.08) !important;
        }
        
        /* Chart and activity cards hover */
        .content-card {
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        .content-card:hover {
            box-shadow: 0 4px 16px rgba(0,0,0,0.06) !important;
        }
        
        /* Navbar scroll effect */
        .header-scrolled {
            background: rgba(255, 255, 255, 0.9) !important;
            backdrop-filter: blur(20px) saturate(180%);
            box-shadow: 0 1px 0 rgba(0,0,0,0.04), 0 1px 2px rgba(0,0,0,0.02);
        }
        .chart-container {
            background: white;
            border-radius: 0.75rem;
            padding: 1.5rem;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
            margin-bottom: 1.5rem;
            height: 300px;
        }
        .activity-container {
            background: white;
            border-radius: 0.75rem;
            padding: 1.5rem;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
            margin-bottom: 1.5rem;
            height: 300px;
            overflow-y: auto;
        }
        .section-spacing {
            margin-bottom: 2rem;
        }
        .card-spacing {
            margin-bottom: 1rem;
        }
        .compact-card {
            padding: 1rem;
            height: auto;
            min-height: 120px;
        }
        .chart-height {
            height: 200px;
        }
        .card-shadow-lg {
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
        }
        .animate-pulse-slow {
            animation: pulse 3s cubic-bezier(0.4, 0, 0.6, 1) infinite;
        }
        .notification-enter {
            animation: slideInRight 0.3s ease-out;
        }
        @keyframes slideInRight {
            from {
                transform: translateX(100%);
                opacity: 0;
            }
            to {
                transform: translateX(0);
                opacity: 1;
            }
        }
        
        /* Dark Theme Styles */
        .dark-theme {
            background-color: #1f2937;
            color: #f9fafb;
        }
        
        .dark-theme .bg-white {
            background-color: #374151;
        }
        
        .dark-theme .bg-gray-50 {
            background-color: #4b5563;
        }
        
        .dark-theme .text-gray-900 {
            color: #f9fafb;
        }
        
        .dark-theme .text-gray-700 {
            color: #d1d5db;
        }
        
        .dark-theme .text-gray-500 {
            color: #9ca3af;
        }
        
        .dark-theme .border-gray-200 {
            border-color: #4b5563;
        }
        
        .dark-theme .border-gray-300 {
            border-color: #6b7280;
        }
        
        .dark-theme input,
        .dark-theme select,
        .dark-theme textarea {
            background-color: #374151;
            border-color: #6b7280;
            color: #f9fafb;
        }
        
        .dark-theme input:focus,
        .dark-theme select:focus,
        .dark-theme textarea:focus {
            border-color: #3b82f6;
            box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
        }
        
        .dark-theme .bg-gray-200 {
            background-color: #6b7280;
        }
        
        .dark-theme .hover\:bg-gray-50:hover {
            background-color: #4b5563;
        }
        
        .dark-theme .hover\:bg-gray-100:hover {
            background-color: #6b7280;
        }
        
        .dark-theme .bg-gray-100 {
            background-color: #6b7280;
        }
        
        .dark-theme .bg-gray-600 {
            background-color: #9ca3af;
        }
        
        .dark-theme .bg-gray-600\/bg-opacity-50 {
            background-color: rgba(75, 85, 99, 0.5);
        }
        
        /* Dropdown Styles */
        .dropdown-enter {
            animation: dropdownFadeIn 0.2s ease-out;
        }
        
        @keyframes dropdownFadeIn {
            from {
                opacity: 0;
                transform: translateY(-10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        .dark-theme .dropdown-menu {
            background-color: #374151;
            border-color: #4b5563;
        }
        
        .dark-theme .dropdown-item {
            color: #d1d5db;
        }
        
        .dark-theme .dropdown-item:hover {
            background-color: #4b5563;
        }
        
        /* Light Theme Styles */
        .light-theme {
            background-color: #f9fafb;
            color: #111827;
        }
        
        /* Auto Theme - follows system preference */
        @media (prefers-color-scheme: dark) {
            .auto-theme {
                background-color: #1f2937;
                color: #f9fafb;
            }
            
            .auto-theme .bg-white {
                background-color: #374151;
            }
            
            .auto-theme .bg-gray-50 {
                background-color: #4b5563;
            }
            
            .auto-theme .text-gray-900 {
                color: #f9fafb;
            }
            
            .auto-theme .text-gray-700 {
                color: #d1d5db;
            }
            
            .auto-theme .text-gray-500 {
                color: #9ca3af;
            }
            
            .auto-theme .border-gray-200 {
                border-color: #4b5563;
            }
            
            .auto-theme .border-gray-300 {
                border-color: #6b7280;
            }
            
            .auto-theme input,
            .auto-theme select,
            .auto-theme textarea {
                background-color: #374151;
                border-color: #6b7280;
                color: #f9fafb;
            }
            
            .auto-theme input:focus,
            .auto-theme select:focus,
            .auto-theme textarea:focus {
                border-color: #3b82f6;
                box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
            }
            
            .auto-theme .bg-gray-200 {
                background-color: #6b7280;
            }
            
            .auto-theme .hover\:bg-gray-50:hover {
                background-color: #4b5563;
            }
            
            .auto-theme .hover\:bg-gray-100:hover {
                background-color: #6b7280;
            }
            
            .auto-theme .bg-gray-100 {
                background-color: #6b7280;
            }
            
            .auto-theme .bg-gray-600 {
                background-color: #9ca3af;
            }
            
            .auto-theme .bg-gray-600\/bg-opacity-50 {
                background-color: rgba(75, 85, 99, 0.5);
            }
        }
    </style>
</head>
<body class="bg-gray-50 font-sans">
    <!-- Login Success Animation -->
    <div id="loginSuccessAnimation" class="login-success-animation">
        <div class="login-success-content">
            <div class="login-success-icon">
                <i class="fas fa-check-circle"></i>
            </div>
            <div class="login-success-title">¡Comencemos!</div>
            <div class="login-success-subtitle">Redirigiendo al dashboard...</div>
        </div>
    </div>

    <!-- Loading Screen -->
    <div id="loadingScreen" class="fixed inset-0 bg-white z-50 flex items-center justify-center">
        <div class="text-center">
            <div class="animate-spin rounded-full h-16 w-16 border-b-2 border-primary-600 mx-auto mb-4"></div>
            <h2 class="text-xl font-semibold text-gray-700">Cargando TechSupport Dashboard...</h2>
        </div>
    </div>

    <!-- Login Screen -->
    <div id="loginScreen" class="min-h-screen bg-white flex hidden">
        <!-- Left Column - Login Form -->
        <div class="flex-1 flex items-center justify-center px-8">
            <div class="w-full max-w-md">
                <!-- Logo -->
                <div class="text-center mb-8">
                    <div class="inline-flex items-center justify-center mb-4">
                        <!-- Xepelin Logo Image -->
                        <img src="https://xepelin.com/wp-content/uploads/2021/05/xepelin-logo.svg" 
                             alt="Xepelin Logo" 
                             class="mr-3" 
                             style="width: auto; height: 20px; flex-shrink: 0;"
                             onerror="this.style.display='none'; this.nextElementSibling.style.display='inline';">
                        <!-- Fallback text if image fails -->
                        <span class="text-xl font-medium text-blue-600 tracking-wider" style="display: none;">xepelin</span>
                    </div>
                    <h1 class="text-4xl font-bold text-black">¡Inicia sesión!</h1>
                </div>

                <!-- Login Form -->
                <div class="bg-white rounded-2xl shadow-xl p-8 border border-gray-100">
                    <!-- Form Fields -->
                    <form id="loginForm" class="space-y-6">
                        <!-- Email Field -->
                        <div class="space-y-2">
                            <label for="email" class="block text-sm font-medium text-gray-700">Email</label>
                            <div class="relative">
                                <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
                                    <svg class="h-5 w-5 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 12a4 4 0 10-8 0 4 4 0 008 0zm0 0v1.5a2.5 2.5 0 005 0V12a9 9 0 10-9 9m4.5-1.206a8.959 8.959 0 01-4.5 1.207"></path>
                                    </svg>
                                </div>
                                <input id="email" name="email" type="email" required
                                    class="w-full pl-10 pr-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 bg-gray-50 focus:bg-white"
                                    placeholder="ejemplo@xepelin.com">
                            </div>
                        </div>

                        <!-- Password Field -->
                        <div class="space-y-2">
                            <label for="password" class="block text-sm font-medium text-gray-700">Contraseña</label>
                            <div class="relative">
                                <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
                                    <svg class="h-5 w-5 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"></path>
                                    </svg>
                                </div>
                                <input id="password" name="password" type="password" required
                                    class="w-full pl-10 pr-12 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 bg-gray-50 focus:bg-white"
                                    placeholder="••••••••">
                                <button type="button" id="togglePassword" 
                                    style="position: absolute; top: 0; right: 0; height: 100%; width: 48px; display: flex; align-items: center; justify-content: center; background: transparent; border: none; cursor: pointer; padding-right: 12px; z-index: 10;"
                                    class="hover:bg-gray-100 rounded-r-xl transition-all duration-200 group">
                                    <svg id="eyeIcon" class="h-5 w-5 text-gray-500 group-hover:text-blue-600 transition-colors duration-200" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                                        <!-- Modern eye icon -->
                                        <path stroke-linecap="round" stroke-linejoin="round" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z" />
                                        <path stroke-linecap="round" stroke-linejoin="round" d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z" />
                                    </svg>
                                </button>
                            </div>
                        </div>

                        <!-- Options Row -->
                        <div class="flex items-center justify-between">
                            <label class="flex items-center cursor-pointer">
                                <input type="checkbox" 
                                    style="appearance: none; width: 16px; height: 16px; border: 2px solid #d1d5db; border-radius: 50%; background-color: #f9fafb; cursor: pointer; position: relative; transition: all 0.2s ease-in-out;"
                                    class="focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 checked:bg-blue-600 checked:border-blue-600"
                                    onchange="this.style.backgroundColor = this.checked ? '#2563eb' : '#f9fafb'; this.style.borderColor = this.checked ? '#2563eb' : '#d1d5db';">
                                <span class="ml-2 text-sm text-gray-600">Mantener sesión</span>
                            </label>
                            <a href="#" onclick="showForgotPasswordPopup(); return false;" class="text-sm text-blue-600 hover:text-blue-800 cursor-pointer font-medium transition-colors">¿Olvidaste tu contraseña?</a>
                        </div>

                        <!-- Login Button -->
                        <button type="submit"
                            class="w-full py-3 px-4 bg-gradient-to-r from-blue-600 to-blue-700 text-white font-semibold rounded-xl hover:from-blue-700 hover:to-blue-800 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-all duration-200 shadow-lg hover:shadow-xl transform hover:-translate-y-0.5">
                            <span id="loginButtonText" class="flex items-center justify-center">
                                <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 16l-4-4m0 0l4-4m-4 4h14m-5 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h7a3 3 0 013 3v1"></path>
                                </svg>
                                Iniciar Sesión
                            </span>
                            <div id="loginSpinner" class="hidden animate-spin rounded-full h-5 w-5 border-b-2 border-white ml-2"></div>
                        </button>
                    </form>

                    <!-- Error Message -->
                    <div id="loginError" class="hidden mt-4 p-4 bg-red-50 border-l-4 border-red-400 text-red-700 rounded-lg">
                        <div class="flex">
                            <div class="flex-shrink-0">
                                <svg class="h-5 w-5 text-red-400" viewBox="0 0 20 20" fill="currentColor">
                                    <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z" clip-rule="evenodd" />
                                </svg>
                            </div>
                            <div class="ml-3">
                                <p class="text-sm font-medium" id="loginErrorText"></p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Right Column - Promotional Content -->
        <div class="flex-1 relative overflow-hidden bg-gradient-to-br from-blue-50 to-slate-50">
            <!-- Abstract Images -->
            <div class="absolute inset-0">
                <!-- Image 1: Curved line with three spheres (top right) -->
                <div class="absolute top-8 right-8 w-80 h-80 animate-float">
                    <svg viewBox="0 0 200 200" class="w-full h-full">
                        <!-- Curved line -->
                        <path d="M 20 160 Q 60 40 180 20" stroke="#60A5FA" stroke-width="2" fill="none" opacity="0.8">
                            <animate attributeName="stroke-dasharray" values="0,1000;1000,0;0,1000" dur="4s" repeatCount="indefinite"/>
                        </path>
                        <!-- Three spheres -->
                        <circle cx="20" cy="160" r="12" fill="#1E40AF" opacity="0.9" class="animate-pulse"/>
                        <circle cx="30" cy="160" r="12" fill="#FFFFFF" opacity="0.9" class="animate-pulse"/>
                        <circle cx="40" cy="160" r="12" fill="#3B82F6" opacity="0.9" class="animate-pulse"/>
                    </svg>
                </div>
                
                <!-- Image 2: Six spheres with orbital lines (top left) -->
                <div class="absolute top-16 left-8 w-72 h-72 animate-float-delay">
                    <svg viewBox="0 0 200 200" class="w-full h-full">
                        <!-- Orbital lines -->
                        <ellipse cx="100" cy="100" rx="60" ry="40" stroke="#A78BFA" stroke-width="1.5" fill="none" opacity="0.6">
                            <animateTransform attributeName="transform" type="rotate" values="0 100 100;360 100 100" dur="8s" repeatCount="indefinite"/>
                        </ellipse>
                        <ellipse cx="100" cy="100" rx="80" ry="50" stroke="#A78BFA" stroke-width="1" fill="none" opacity="0.4">
                            <animateTransform attributeName="transform" type="rotate" values="360 100 100;0 100 100" dur="12s" repeatCount="indefinite"/>
                        </ellipse>
                        <!-- Six spheres -->
                        <circle cx="100" cy="60" r="8" fill="#3B82F6" opacity="0.9"/>
                        <circle cx="140" cy="100" r="8" fill="#FFFFFF" opacity="0.9"/>
                        <circle cx="100" cy="140" r="8" fill="#3B82F6" opacity="0.9"/>
                        <circle cx="60" cy="100" r="8" fill="#FFFFFF" opacity="0.9"/>
                        <circle cx="120" cy="80" r="6" fill="#3B82F6" opacity="0.8"/>
                        <circle cx="80" cy="120" r="6" fill="#FFFFFF" opacity="0.8"/>
                    </svg>
                </div>
                
                <!-- Image 3: Central sphere with orbiting spheres (center) -->
                <div class="absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-64 h-64 animate-float">
                    <svg viewBox="0 0 200 200" class="w-full h-full">
                        <!-- Central sphere -->
                        <circle cx="100" cy="100" r="20" fill="#1E40AF" opacity="0.9">
                            <animate attributeName="r" values="18;22;18" dur="3s" repeatCount="indefinite"/>
                        </circle>
                        <!-- Orbiting spheres -->
                        <circle cx="100" cy="60" r="8" fill="#1E40AF" opacity="0.8">
                            <animateTransform attributeName="transform" type="rotate" values="0 100 100;360 100 100" dur="6s" repeatCount="indefinite"/>
                        </circle>
                        <circle cx="140" cy="100" r="8" fill="#FFFFFF" opacity="0.8">
                            <animateTransform attributeName="transform" type="rotate" values="0 100 100;360 100 100" dur="6s" repeatCount="indefinite"/>
                        </circle>
                        <!-- Orbital lines -->
                        <path d="M 100 60 A 40 40 0 1 1 100 60" stroke="#FFFFFF" stroke-width="1" fill="none" opacity="0.6">
                            <animate attributeName="stroke-dasharray" values="0,250;250,0" dur="3s" repeatCount="indefinite"/>
                        </path>
                        <path d="M 140 100 A 40 40 0 1 1 140 100" stroke="#FFFFFF" stroke-width="1" fill="none" opacity="0.6">
                            <animate attributeName="stroke-dasharray" values="250,0;0,250" dur="3s" repeatCount="indefinite"/>
                        </path>
                    </svg>
                </div>
                
                <!-- Additional floating elements for depth -->
                <div class="absolute bottom-16 right-16 w-48 h-48 animate-float-delay">
                    <svg viewBox="0 0 100 100" class="w-full h-full">
                        <circle cx="50" cy="50" r="15" fill="#3B82F6" opacity="0.6">
                            <animate attributeName="opacity" values="0.3;0.8;0.3" dur="4s" repeatCount="indefinite"/>
                        </circle>
                        <circle cx="30" cy="30" r="8" fill="#FFFFFF" opacity="0.5">
                            <animate attributeName="opacity" values="0.2;0.7;0.2" dur="5s" repeatCount="indefinite"/>
                        </circle>
                    </svg>
                </div>
            </div>

            <!-- Dotted Pattern -->
            <div class="absolute top-1/4 right-1/4 w-16 h-16 opacity-30">
                <div class="grid grid-cols-4 gap-1 h-full">
                    <div class="w-2 h-2 bg-gray-400 rounded-full"></div>
                    <div class="w-2 h-2 bg-gray-400 rounded-full"></div>
                    <div class="w-2 h-2 bg-gray-400 rounded-full"></div>
                    <div class="w-2 h-2 bg-gray-400 rounded-full"></div>
                    <div class="w-2 h-2 bg-gray-400 rounded-full"></div>
                    <div class="w-2 h-2 bg-gray-400 rounded-full"></div>
                    <div class="w-2 h-2 bg-gray-400 rounded-full"></div>
                    <div class="w-2 h-2 bg-gray-400 rounded-full"></div>
                    <div class="w-2 h-2 bg-gray-400 rounded-full"></div>
                    <div class="w-2 h-2 bg-gray-400 rounded-full"></div>
                    <div class="w-2 h-2 bg-gray-400 rounded-full"></div>
                    <div class="w-2 h-2 bg-gray-400 rounded-full"></div>
                    <div class="w-2 h-2 bg-gray-400 rounded-full"></div>
                    <div class="w-2 h-2 bg-gray-400 rounded-full"></div>
                    <div class="w-2 h-2 bg-gray-400 rounded-full"></div>
                    <div class="w-2 h-2 bg-gray-400 rounded-full"></div>
                </div>
            </div>

            <!-- Promotional Text -->
            <div class="absolute inset-0 flex items-center justify-center">
                <div class="text-center px-8">
                    <h2 class="text-5xl font-bold text-black leading-tight animate-fade-in-up">
                        ¡Bienvenido de vuelta!<br>
                        <span class="text-transparent bg-clip-text bg-gradient-to-r from-purple-600 to-blue-600 animate-gradient-x">
                            Crea tu carta de responsabilidad<br>
                            en minutos
                        </span>
                    </h2>
                </div>
            </div>
        </div>
    </div>

    <!-- Main Dashboard -->
    <div id="dashboard" class="min-h-screen hidden" style="background: #fbfbfd;">
        <!-- Header Apple Style -->
        <header id="mainHeader" class="bg-white/80 backdrop-blur-xl fixed top-0 left-0 right-0 z-40 transition-all duration-300" style="border-bottom: 0.5px solid rgba(0,0,0,0.06);">
            <div class="max-w-7xl mx-auto px-6 lg:px-8">
                <div class="flex justify-between items-center h-16">
                    <!-- Logo Section -->
                    <div class="flex items-center">
                        <!-- Mobile menu button -->
                        <button id="mobileMenuButton" class="lg:hidden p-2 -ml-2 text-gray-600 hover:text-gray-900 transition-colors duration-200 mr-2">
                            <svg class="flaticon-icon" style="width: 1.125rem; height: 1.125rem;" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <line x1="3" y1="12" x2="21" y2="12" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                                <line x1="3" y1="6" x2="21" y2="6" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                                <line x1="3" y1="18" x2="21" y2="18" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                            </svg>
                        </button>
                        
                        <!-- Navigation -->
                        <nav class="hidden lg:flex lg:space-x-1">
                            <a href="#" onclick="showSection('dashboard-section')" class="nav-link px-4 py-2 text-sm font-medium transition-colors duration-200" style="color: #86868b;" onmouseover="this.style.color='#1d1d1f'" onmouseout="this.style.color='#86868b'">
                                Dashboard
                            </a>
                            <a href="#" onclick="showSection('audit-section')" class="nav-link px-4 py-2 text-sm font-medium transition-colors duration-200" style="color: #86868b;" onmouseover="this.style.color='#1d1d1f'" onmouseout="this.style.color='#86868b'">
                                Auditoría
                            </a>
                            <a href="#" onclick="showSection('calendar-section')" class="nav-link px-4 py-2 text-sm font-medium transition-colors duration-200" style="color: #86868b;" onmouseover="this.style.color='#1d1d1f'" onmouseout="this.style.color='#86868b'">
                                Calendario
                            </a>
                            
                            <!-- Cartas de Responsabilidad Dropdown -->
                            <div class="relative">
                                <button id="responsibilityDropdownButton" class="nav-link px-4 py-2 text-sm font-medium transition-colors duration-200 flex items-center" style="color: #86868b;" onmouseover="this.style.color='#1d1d1f'" onmouseout="this.style.color='#86868b'">
                                    Cartas de Responsabilidad
                                    <svg class="flaticon-icon ml-1.5" style="width: 0.625rem; height: 0.625rem;" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                        <polyline points="6 9 12 15 18 9" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                    </svg>
                                </button>
                                <div id="responsibilityDropdown" class="hidden absolute top-full left-0 mt-2 w-56 bg-white/95 backdrop-blur-2xl rounded-2xl z-50 overflow-hidden" style="box-shadow: 0 4px 20px rgba(0,0,0,0.08); border: 0.5px solid rgba(0,0,0,0.08);">
                                    <div class="py-2">
                                        <a href="#" onclick="createOnboardingOverlay(); closeResponsibilityDropdown();" class="block px-4 py-3 text-sm transition-colors duration-150" style="color: #1d1d1f;" onmouseover="this.style.backgroundColor='#f5f5f7'" onmouseout="this.style.backgroundColor='transparent'">
                                            <p class="font-medium">Onboarding</p>
                                            <p class="text-xs mt-0.5" style="color: #86868b;">Proceso de incorporación</p>
                                        </a>
                                        <a href="#" onclick="createOffboardingOverlay(); closeResponsibilityDropdown();" class="block px-4 py-3 text-sm transition-colors duration-150" style="color: #1d1d1f;" onmouseover="this.style.backgroundColor='#f5f5f7'" onmouseout="this.style.backgroundColor='transparent'">
                                            <p class="font-medium">Offboarding</p>
                                            <p class="text-xs mt-0.5" style="color: #86868b;">Proceso de salida</p>
                                        </a>
                                        <div class="border-t my-1" style="border-color: rgba(0,0,0,0.08);"></div>
                                        <a href="#" onclick="openPdfSignerTool(); closeResponsibilityDropdown();" class="block px-4 py-3 text-sm transition-colors duration-150" style="color: #1d1d1f;" onmouseover="this.style.backgroundColor='#f5f5f7'" onmouseout="this.style.backgroundColor='transparent'">
                                            <div class="flex items-center">
                                                <svg class="w-4 h-4 mr-2 text-purple-600" viewBox="0 0 24 24" fill="currentColor">
                                                    <path d="M5.042 15.165a2.528 2.528 0 0 1-1.524-3.237c.16-.38.388-.73.674-1.02l1.523-1.523c.472-.471 1.08-.693 1.696-.693.616 0 1.224.222 1.696.693l.701.701c.471.471.693 1.08.693 1.696 0 .616-.222 1.224-.693 1.696l-1.523 1.523c-.29.286-.64.514-1.02.674a2.528 2.528 0 0 1-3.237-1.524l-.001-.001zm15.916 0a2.528 2.528 0 0 1-3.237 1.524c-.38-.16-.73-.388-1.02-.674l-1.523-1.523a2.396 2.396 0 0 1-.693-1.696c0-.616.222-1.224.693-1.696l.701-.701c.471-.471 1.08-.693 1.696-.693.616 0 1.224.222 1.696.693l1.523 1.523c.286.29.514.64.674 1.02a2.528 2.528 0 0 1 1.524 3.237l.001.001zM12.5 8.5c-.276 0-.5-.224-.5-.5s.224-.5.5-.5.5.224.5.5-.224.5-.5.5zm0 7c-.276 0-.5-.224-.5-.5s.224-.5.5-.5.5.224.5.5-.224.5-.5.5z"/>
                                                </svg>
                                                <div>
                                                    <p class="font-medium">Firmar PDF</p>
                                                    <p class="text-xs mt-0.5" style="color: #86868b;">Firma electrónica de documentos</p>
                                                </div>
                                            </div>
                                        </a>
                                    </div>
                                </div>
                            </div>
                        </nav>
                    </div>
                    
                    <!-- Right Section -->
                    <div class="flex items-center space-x-4">
                        <!-- Search Bar -->
                        <div class="hidden md:block relative">
                            <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
                                <svg class="flaticon-icon" style="width: 0.875rem; height: 0.875rem; color: #86868b;" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <circle cx="11" cy="11" r="8" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                    <path d="m21 21-4.35-4.35" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                </svg>
                            </div>
                            <input type="text" id="globalSearch" placeholder="Buscar..." class="w-64 pl-10 pr-4 py-2 text-sm focus:outline-none transition-all duration-200" style="background: #f5f5f7; border: 0.5px solid rgba(0,0,0,0.08); border-radius: 20px; color: #1d1d1f; font-size: 14px;" onfocus="this.style.background='white'; this.style.borderColor='rgba(0,0,0,0.12)'; this.style.boxShadow='0 0 0 4px rgba(0,0,0,0.04)'" onblur="this.style.background='#f5f5f7'; this.style.borderColor='rgba(0,0,0,0.08)'; this.style.boxShadow='none'">
                            
                            <!-- Search Suggestions Dropdown -->
                            <div id="searchSuggestions" class="hidden absolute top-full left-0 right-0 mt-2 bg-white/95 backdrop-blur-2xl rounded-2xl z-50 max-h-60 overflow-y-auto" style="box-shadow: 0 4px 20px rgba(0,0,0,0.08); border: 0.5px solid rgba(0,0,0,0.08);">
                                <!-- Suggestions will be populated here -->
                            </div>
                        </div>
                        
                        <!-- Action Buttons -->
                        <div class="flex items-center space-x-1">
                            <!-- Theme Toggle -->
                            <button id="themeToggle" class="p-2 transition-colors duration-200" style="color: #86868b;" onmouseover="this.style.color='#1d1d1f'" onmouseout="this.style.color='#86868b'" title="Cambiar tema">
                                <svg class="flaticon-icon" style="width: 1.125rem; height: 1.125rem;" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" fill="currentColor"/>
                                </svg>
                            </button>
                            
                            <!-- Preferences Button -->
                            <button onclick="showPreferencesModal()" class="p-2 transition-colors duration-200" style="color: #86868b;" onmouseover="this.style.color='#1d1d1f'" onmouseout="this.style.color='#86868b'" title="Preferencias">
                                <svg class="flaticon-icon" style="width: 1.125rem; height: 1.125rem;" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <circle cx="12" cy="12" r="3" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                    <path d="M12 1v6m0 6v6M5.64 5.64l4.24 4.24m4.24 4.24l4.24 4.24M1 12h6m6 0h6M5.64 18.36l4.24-4.24m4.24-4.24l4.24-4.24" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                </svg>
                            </button>
                            
                            <!-- Notifications -->
                            <div class="relative">
                                <button id="notificationButton" class="p-2 transition-colors duration-200 relative" style="color: #86868b;" onmouseover="this.style.color='#1d1d1f'" onmouseout="this.style.color='#86868b'" title="Notificaciones">
                                    <svg class="flaticon-icon" style="width: 1.125rem; height: 1.125rem;" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                        <path d="M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                        <path d="M13.73 21a2 2 0 0 1-3.46 0" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                    </svg>
                                    <span id="notificationBadge" class="hidden absolute top-0 right-0 bg-red-500 text-white text-xs rounded-full h-4 w-4 flex items-center justify-center font-medium" style="font-size: 10px; transform: translate(25%, -25%);">0</span>
                                </button>
                                <div id="notificationDropdown" class="hidden absolute right-0 mt-2 w-80 bg-white/95 backdrop-blur-2xl rounded-2xl z-50 overflow-hidden" style="box-shadow: 0 4px 20px rgba(0,0,0,0.08); border: 0.5px solid rgba(0,0,0,0.08);">
                                    <div class="px-5 py-4 border-b" style="border-color: rgba(0,0,0,0.08);">
                                        <div class="flex items-center justify-between">
                                            <h3 class="text-base font-semibold" style="color: #1d1d1f;">Notificaciones</h3>
                                            <button onclick="clearNotifications()" class="text-sm font-medium transition-colors duration-200" style="color: #0071e3;" onmouseover="this.style.color='#0077ed'" onmouseout="this.style.color='#0071e3'">Limpiar</button>
                                        </div>
                                    </div>
                                    <div id="notificationList" class="max-h-96 overflow-y-auto">
                                        <!-- Notifications will be populated here -->
                                    </div>
                                </div>
                            </div>
                            
                            <!-- User Menu -->
                            <div class="relative">
                                <button id="userMenuButton" class="flex items-center text-sm transition-colors duration-200 px-3 py-2 rounded-full" style="color: #86868b; background: transparent;" onmouseover="this.style.color='#1d1d1f'; this.style.background='#f5f5f7'" onmouseout="this.style.color='#86868b'; this.style.background='transparent'">
                                    <div class="user-avatar" style="width: 2rem; height: 2rem;">
                                        <span id="userInitials" style="font-size: 0.75rem;"></span>
                                    </div>
                                    <svg class="flaticon-icon ml-2" style="width: 0.625rem; height: 0.625rem;" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                        <polyline points="6 9 12 15 18 9" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                    </svg>
                                </button>
                                <div id="userDropdown" class="hidden absolute right-0 mt-2 w-56 bg-white/95 backdrop-blur-2xl rounded-2xl z-50 overflow-hidden" style="box-shadow: 0 4px 20px rgba(0,0,0,0.08); border: 0.5px solid rgba(0,0,0,0.08);">
                                    <div class="py-2">
                                        <div class="px-4 py-3 border-b" style="border-color: rgba(0,0,0,0.08);">
                                            <p class="text-sm font-semibold" style="color: #1d1d1f;" id="userFullName">Usuario</p>
                                            <p class="text-xs mt-0.5" style="color: #86868b;" id="userEmail">usuario@empresa.com</p>
                                        </div>
                                        <a href="#" onclick="showSection('profile-section')" class="block px-4 py-3 text-sm transition-colors duration-150" style="color: #1d1d1f;" onmouseover="this.style.backgroundColor='#f5f5f7'" onmouseout="this.style.backgroundColor='transparent'">
                                            <p class="font-medium">Mi Perfil</p>
                                            <p class="text-xs mt-0.5" style="color: #86868b;">Gestionar información</p>
                                        </a>
                                        <a href="#" onclick="changePassword()" class="block px-4 py-3 text-sm transition-colors duration-150" style="color: #1d1d1f;" onmouseover="this.style.backgroundColor='#f5f5f7'" onmouseout="this.style.backgroundColor='transparent'">
                                            <p class="font-medium">Cambiar Contraseña</p>
                                            <p class="text-xs mt-0.5" style="color: #86868b;">Actualizar seguridad</p>
                                        </a>
                                        <div id="adminSection" class="hidden">
                                            <div class="my-1" style="border-top: 0.5px solid rgba(0,0,0,0.08);"></div>
                                            <a href="javascript:void(0)" onclick="window.abrirGestionUsuarios(); return false;" class="block px-4 py-3 text-sm transition-colors duration-150" style="color: #1d1d1f;" onmouseover="this.style.backgroundColor='#f5f5f7'" onmouseout="this.style.backgroundColor='transparent'">
                                                <p class="font-medium">Gestión de Usuarios</p>
                                                <p class="text-xs mt-0.5" style="color: #86868b;">Administrar usuarios</p>
                                            </a>
                                        </div>
                                        <div class="my-1" style="border-top: 0.5px solid rgba(0,0,0,0.08);"></div>
                                        <a href="#" onclick="logout()" class="block px-4 py-3 text-sm transition-colors duration-150" style="color: #ff3b30;" onmouseover="this.style.backgroundColor='#fff5f5'" onmouseout="this.style.backgroundColor='transparent'">
                                            <p class="font-medium">Cerrar Sesión</p>
                                            <p class="text-xs mt-0.5" style="color: #ff6b6b;">Salir del sistema</p>
                                        </a>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </header>

        <!-- Mobile Menu -->
        <div id="mobileMenu" class="hidden lg:hidden bg-white/95 backdrop-blur-2xl border-b" style="border-color: rgba(0,0,0,0.08);">
            <div class="px-4 py-3 space-y-1">
                <a href="#" onclick="showSection('dashboard-section')" class="block px-4 py-2.5 text-sm font-medium transition-colors duration-150" style="color: #1d1d1f;" onmouseover="this.style.backgroundColor='#f5f5f7'" onmouseout="this.style.backgroundColor='transparent'">
                    Dashboard
                </a>
                <a href="#" onclick="showSection('audit-section')" class="block px-4 py-2.5 text-sm font-medium transition-colors duration-150" style="color: #1d1d1f;" onmouseover="this.style.backgroundColor='#f5f5f7'" onmouseout="this.style.backgroundColor='transparent'">
                    Auditoría
                </a>
                <a href="#" onclick="showSection('calendar-section')" class="block px-4 py-2.5 text-sm font-medium transition-colors duration-150" style="color: #1d1d1f;" onmouseover="this.style.backgroundColor='#f5f5f7'" onmouseout="this.style.backgroundColor='transparent'">
                    Calendario
                </a>
                <div class="my-2" style="border-top: 0.5px solid rgba(0,0,0,0.08);"></div>
                <a href="#" onclick="createOnboardingOverlay()" class="block px-4 py-2.5 text-sm font-medium transition-colors duration-150" style="color: #1d1d1f;" onmouseover="this.style.backgroundColor='#f5f5f7'" onmouseout="this.style.backgroundColor='transparent'">
                    Onboarding
                </a>
                <a href="#" onclick="createOffboardingOverlay()" class="block px-4 py-2.5 text-sm font-medium transition-colors duration-150" style="color: #1d1d1f;" onmouseover="this.style.backgroundColor='#f5f5f7'" onmouseout="this.style.backgroundColor='transparent'">
                    Offboarding
                </a>
            </div>
        </div>

        <!-- Main Content -->
        <main class="max-w-7xl mx-auto py-6 sm:px-6 lg:px-8" style="padding-top: calc(4rem + 2rem);">
            <!-- Dashboard Section -->
            <div id="dashboard-section" class="section hidden">
                <div class="dashboard-container">
                    <!-- Header -->
                    <div class="section-spacing">
                        <h1 id="dashboardTitle" class="text-5xl font-semibold mb-3" style="color: #1d1d1f; letter-spacing: -0.02em;">¡Hola!</h1>
                        <p class="text-lg" style="color: #86868b; font-weight: 400;">Resumen de actividades y estadísticas del sistema</p>
                    </div>

                    <!-- Stats Cards -->
                    <div class="section-spacing">
                        <h2 class="text-xl sm:text-2xl font-semibold mb-4 sm:mb-6" style="color: #1d1d1f; letter-spacing: -0.02em;">Estadísticas Generales</h2>
                        <div class="stats-grid">
                    <div class="stats-card bg-white rounded-3xl border" style="border-color: rgba(0,0,0,0.06); box-shadow: 0 1px 3px rgba(0,0,0,0.04); padding: 1.5rem sm:p-6 lg:p-9;">
                        <div class="flex items-center justify-between">
                            <div class="flex-1 min-w-0">
                                <p class="text-xs sm:text-sm font-medium mb-2 sm:mb-2.5" style="color: #86868b; letter-spacing: 0.01em;">Total Usuarios</p>
                                <p class="text-2xl sm:text-3xl lg:text-4xl font-semibold mb-1" style="color: #1d1d1f; letter-spacing: -0.03em;" id="totalUsers">-</p>
                                <p class="text-xs mt-1 sm:mt-1.5" style="color: #86868b;" id="totalUsersSource" title="Fuente de datos">Snipe-IT</p>
                            </div>
                            <div class="w-12 h-12 sm:w-14 sm:h-14 lg:w-16 lg:h-16 rounded-2xl flex items-center justify-center transition-all duration-300 flex-shrink-0 ml-3" style="background: #f5f5f7;">
                                <i class="fas fa-users text-base sm:text-lg" style="color: #0071e3;"></i>
                            </div>
                        </div>
                    </div>

                    <div class="stats-card bg-white rounded-3xl border" style="border-color: rgba(0,0,0,0.06); box-shadow: 0 1px 3px rgba(0,0,0,0.04); padding: 1.5rem sm:p-6 lg:p-9;">
                        <div class="flex items-center justify-between">
                            <div class="flex-1 min-w-0">
                                <p class="text-xs sm:text-sm font-medium mb-2 sm:mb-2.5" style="color: #86868b; letter-spacing: 0.01em;">Assets Disponibles</p>
                                <p class="text-2xl sm:text-3xl lg:text-4xl font-semibold mb-1" style="color: #1d1d1f; letter-spacing: -0.03em;" id="availableAssets">-</p>
                                <p class="text-xs mt-1 sm:mt-1.5" style="color: #86868b;" id="availableAssetsSource" title="Fuente de datos">Snipe-IT</p>
                            </div>
                            <div class="w-12 h-12 sm:w-14 sm:h-14 lg:w-16 lg:h-16 rounded-2xl flex items-center justify-center transition-all duration-300 flex-shrink-0 ml-3" style="background: #f5f5f7;">
                                <svg class="flaticon-icon text-base sm:text-lg" style="width: 1.125rem; height: 1.125rem; color: #30d158;" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <rect x="2" y="4" width="20" height="12" rx="2" ry="2" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                    <line x1="2" y1="16" x2="22" y2="16" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                </svg>
                            </div>
                        </div>
                    </div>

                    <div class="stats-card bg-white rounded-3xl border" style="border-color: rgba(0,0,0,0.06); box-shadow: 0 1px 3px rgba(0,0,0,0.04); padding: 1.5rem sm:p-6 lg:p-9;">
                        <div class="flex items-center justify-between">
                            <div class="flex-1 min-w-0">
                                <p class="text-xs sm:text-sm font-medium mb-2 sm:mb-2.5" style="color: #86868b; letter-spacing: 0.01em;">Assets Asignados</p>
                                <p class="text-2xl sm:text-3xl lg:text-4xl font-semibold mb-1" style="color: #1d1d1f; letter-spacing: -0.03em;" id="assignedAssets">-</p>
                                <p class="text-xs mt-1 sm:mt-1.5" style="color: #86868b;" id="assignedAssetsSource" title="Fuente de datos">Snipe-IT</p>
                            </div>
                            <div class="w-12 h-12 sm:w-14 sm:h-14 lg:w-16 lg:h-16 rounded-2xl flex items-center justify-center transition-all duration-300 flex-shrink-0 ml-3" style="background: #f5f5f7;">
                                <svg class="flaticon-icon text-base sm:text-lg" style="width: 1.125rem; height: 1.125rem; color: #ff9500;" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                    <rect x="8" y="2" width="8" height="4" rx="1" ry="1" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                </svg>
                            </div>
                        </div>
                    </div>

                    <div class="stats-card bg-white rounded-3xl border" style="border-color: rgba(0,0,0,0.06); box-shadow: 0 1px 3px rgba(0,0,0,0.04); padding: 1.5rem sm:p-6 lg:p-9;">
                        <div class="flex items-center justify-between">
                            <div class="flex-1 min-w-0">
                                <p class="text-xs sm:text-sm font-medium mb-2 sm:mb-2.5" style="color: #86868b; letter-spacing: 0.01em;">Actividad Hoy</p>
                                <p class="text-2xl sm:text-3xl lg:text-4xl font-semibold mb-1" style="color: #1d1d1f; letter-spacing: -0.03em;" id="todayActivity">-</p>
                            </div>
                            <div class="w-12 h-12 sm:w-14 sm:h-14 lg:w-16 lg:h-16 rounded-2xl flex items-center justify-center transition-all duration-300 flex-shrink-0 ml-3" style="background: #f5f5f7;">
                                <svg class="flaticon-icon text-base sm:text-lg" style="width: 1.125rem; height: 1.125rem; color: #0071e3;" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <line x1="18" y1="20" x2="18" y2="10" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                    <line x1="12" y1="20" x2="12" y2="4" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                    <line x1="6" y1="20" x2="6" y2="14" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                </svg>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Charts Row -->
                <div class="section-spacing">
                    <h2 class="text-2xl font-semibold mb-6" style="color: #1d1d1f; letter-spacing: -0.02em;">Análisis y Actividad</h2>
                    <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
                        <!-- Chart Container -->
                        <div class="content-card bg-white rounded-3xl p-8 border" style="border-color: rgba(0,0,0,0.06); box-shadow: 0 2px 8px rgba(0,0,0,0.04);">
                            <h3 class="text-xl font-semibold mb-6" style="color: #1d1d1f; letter-spacing: -0.02em;">Usuarios por Ubicación</h3>
                            <div class="chart-height">
                                <canvas id="locationChart" width="400" height="200"></canvas>
                            </div>
                        </div>
                        
                        <!-- Activity Container -->
                        <div class="content-card bg-white rounded-3xl p-8 border" style="border-color: rgba(0,0,0,0.06); box-shadow: 0 2px 8px rgba(0,0,0,0.04);">
                            <h3 class="text-xl font-semibold mb-6" style="color: #1d1d1f; letter-spacing: -0.02em;">Actividad Reciente</h3>
                            <div id="recentActivity" class="space-y-3">
                                <!-- Recent activity will be populated here -->
                            </div>
                        </div>
                    </div>
                    
                    <!-- New Hires Card -->
                    <div class="mt-8">
                        <div class="content-card bg-white rounded-3xl p-8 border" style="border-color: rgba(0,0,0,0.06); box-shadow: 0 2px 8px rgba(0,0,0,0.04);">
                            <div class="flex justify-between items-center mb-6">
                                <h3 class="text-xl font-semibold" style="color: #1d1d1f; letter-spacing: -0.02em;">Nuevos Ingresos</h3>
                                <button onclick="showCreateResponsibilityLetterModal()" class="px-6 py-3 rounded-full flex items-center transition-all duration-200" style="background: #1d1d1f; color: white; font-weight: 500; font-size: 15px; letter-spacing: -0.01em;" onmouseover="this.style.background='#2d2d2f'" onmouseout="this.style.background='#1d1d1f'">
                                    <svg class="flaticon-icon mr-2 text-sm" style="width: 0.875rem; height: 0.875rem;" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                        <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                        <polyline points="14 2 14 8 20 8" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                    </svg>Crear Carta
                                </button>
                            </div>
                            <div id="newHiresList" class="space-y-3 max-h-64 overflow-y-auto">
                                <!-- New hires will be populated here -->
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Recent Assignments -->
                <div class="content-card bg-white rounded-3xl border" style="border-color: rgba(0,0,0,0.06); box-shadow: 0 2px 8px rgba(0,0,0,0.04);">
                    <div class="px-8 py-6 border-b" style="border-color: #f5f5f7;">
                        <h3 class="text-xl font-semibold" style="color: #1d1d1f; letter-spacing: -0.02em;">Asignaciones Recientes</h3>
                    </div>
                    <div class="p-8">
                        <div id="recentAssignments" class="space-y-4">
                            <!-- Recent assignments will be populated here -->
                        </div>
                    </div>
                </div>
            </div>


            <!-- Responsibility Letters Section -->
            <div id="responsibility-section" class="section">
                <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
                    <!-- Header Apple Style -->
                    <div class="mb-12">
                        <h1 class="text-5xl font-semibold mb-3" style="color: #1d1d1f; letter-spacing: -0.02em;">Cartas de Responsabilidad</h1>
                        <p class="text-lg" style="color: #86868b; font-weight: 400;">Gestiona las cartas de responsabilidad de activos para empleados</p>
                    </div>

                    <!-- Stats Cards Apple Style -->
                    <div class="grid grid-cols-1 md:grid-cols-5 gap-4 mb-12">
                        <div class="bg-white rounded-2xl p-6 border border-gray-100" style="box-shadow: 0 1px 3px rgba(0,0,0,0.05);">
                            <div class="flex items-center">
                                <div class="flex-shrink-0">
                                    <div class="w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center">
                                        <svg class="flaticon-icon" style="width: 1.5rem; height: 1.5rem; color: #0071e3;" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                            <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                            <polyline points="14 2 14 8 20 8" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                        </svg>
                                    </div>
                                </div>
                                <div class="ml-4">
                                    <p class="text-sm font-medium text-gray-500">Total Cartas</p>
                                    <p class="text-2xl font-semibold text-gray-900" id="totalLetters">-</p>
                                </div>
                    </div>
                </div>

                        <div class="bg-white rounded-lg shadow-sm p-6">
                            <div class="flex items-center">
                                <div class="flex-shrink-0">
                                    <div class="w-8 h-8 bg-yellow-100 rounded-lg flex items-center justify-center">
                                        <svg class="flaticon-icon" style="width: 1.5rem; height: 1.5rem; color: #ff9500;" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                            <circle cx="12" cy="12" r="10" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                            <polyline points="12 6 12 12 16 14" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                        </svg>
                            </div>
                        </div>
                                <div class="ml-4">
                                    <p class="text-sm font-medium text-gray-500">Pendientes</p>
                                    <p class="text-2xl font-semibold text-gray-900" id="pendingLetters">-</p>
                                </div>
                            </div>
                        </div>
                        
                        <div class="bg-white rounded-lg shadow-sm p-6">
                            <div class="flex items-center">
                                <div class="flex-shrink-0">
                                    <div class="w-8 h-8 bg-green-100 rounded-lg flex items-center justify-center">
                                        <svg class="flaticon-icon" style="width: 1.5rem; height: 1.5rem; color: #30d158;" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                            <path d="M22 11.08V12a10 10 0 1 1-5.93-9.14" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                            <polyline points="22 4 12 14.01 9 11.01" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                        </svg>
                                    </div>
                                </div>
                                <div class="ml-4">
                                    <p class="text-sm font-medium text-gray-500">Enviadas</p>
                                    <p class="text-2xl font-semibold text-gray-900" id="sentLetters">-</p>
                            </div>
                        </div>
                    </div>

                        <div class="bg-white rounded-lg shadow-sm p-6">
                            <div class="flex items-center">
                                <div class="flex-shrink-0">
                                    <div class="w-8 h-8 bg-red-100 rounded-lg flex items-center justify-center">
                                        <i class="fas fa-file-signature text-red-600"></i>
                            </div>
                        </div>
                                <div class="ml-4">
                                    <p class="text-sm font-medium text-gray-500">Faltantes por firmar</p>
                                    <p class="text-2xl font-semibold text-gray-900" id="missingSignatureLetters">-</p>
                                </div>
                            </div>
                        </div>

                        <div class="bg-white rounded-lg shadow-sm p-6">
                            <div class="flex items-center">
                                <div class="flex-shrink-0">
                                    <div class="w-8 h-8 bg-indigo-100 rounded-lg flex items-center justify-center">
                                        <i class="fas fa-calendar-check text-indigo-600"></i>
                                    </div>
                                </div>
                                <div class="ml-4">
                                    <p class="text-sm font-medium text-gray-500">Enviadas este mes</p>
                                    <p class="text-2xl font-semibold text-gray-900" id="sentThisMonthLetters">-</p>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Search and Filters -->
                    <div class="bg-white rounded-lg shadow-sm p-6 mb-6">
                        <div class="flex flex-col lg:flex-row lg:items-center lg:justify-between space-y-4 lg:space-y-0 lg:space-x-4">
                            <!-- Search -->
                            <div class="flex-1">
                                <div class="relative">
                                    <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
                                        <i class="fas fa-search text-gray-400"></i>
                                    </div>
                                    <input type="text" id="letterSearch" placeholder="Buscar por empleado, activo o número de carta..." 
                                           class="block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-1 focus:ring-blue-500 focus:border-blue-500">
                    </div>
                </div>

                            <!-- Filters -->
                            <div class="flex flex-col sm:flex-row space-y-2 sm:space-y-0 sm:space-x-4">
                                <select id="statusFilter" class="block w-full sm:w-auto px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500">
                                    <option value="">Todos los estados</option>
                                    <option value="pending">Pendientes</option>
                                    <option value="sent">Enviadas</option>
                                    <option value="signed">Firmadas</option>
                                </select>
                                
                                <select id="locationFilter" class="block w-full sm:w-auto px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500">
                                    <option value="">Todas las ubicaciones</option>
                                    <option value="MX">México</option>
                                    <option value="CL">Chile</option>
                                    <option value="REMOTO">Remoto</option>
                                </select>
                                
                                <select id="assetTypeFilter" class="block w-full sm:w-auto px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500">
                                    <option value="">Todos los tipos</option>
                                    <option value="Laptop">Laptop</option>
                                    <option value="Monitor">Monitor</option>
                                    <option value="Phone">Teléfono</option>
                                    <option value="Tablet">Tablet</option>
                                    <option value="Other">Otro</option>
                                </select>
                                
                                <button onclick="responsibilityManager.clearFilters()" class="px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 border border-gray-300 rounded-md hover:bg-gray-200 focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500">
                                    <i class="fas fa-times mr-1"></i>
                                    Limpiar
                                </button>
                            </div>
                        </div>
                    </div>

                    <!-- Letters Table -->
                    <div class="bg-white shadow-sm rounded-lg overflow-hidden">
                        <div class="px-6 py-4 border-b border-gray-200 flex justify-between items-center">
                            <div>
                                <h2 class="text-lg font-semibold text-gray-900">Cartas de Responsabilidad</h2>
                                <p class="text-sm text-gray-500 mt-1" id="lettersCount">Mostrando 0 cartas</p>
                            </div>
                            <button onclick="openCreateLetterModal()" class="px-6 py-3 rounded-full flex items-center transition-all duration-200" style="background: #1d1d1f; color: white; font-weight: 500; font-size: 15px; letter-spacing: -0.01em;" onmouseover="this.style.background='#2d2d2f'" onmouseout="this.style.background='#1d1d1f'">
                                <i class="fas fa-plus mr-2 text-sm"></i>
                                Nueva Carta
                            </button>
                        </div>
                        
                            <div class="overflow-x-auto">
                                <table class="min-w-full divide-y divide-gray-200">
                                    <thead class="bg-gray-50">
                                        <tr>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100" onclick="responsibilityManager.sortBy('employee_name')">
                                            Empleado <svg class="flaticon-icon ml-1 inline" style="width: 0.75rem; height: 0.75rem;" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                                <path d="M3 6h18M7 12h10M11 18h2" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                            </svg>
                                        </th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100" onclick="responsibilityManager.sortBy('asset_name')">
                                            Activo <svg class="flaticon-icon ml-1 inline" style="width: 0.75rem; height: 0.75rem;" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                                <path d="M3 6h18M7 12h10M11 18h2" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                            </svg>
                                        </th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100" onclick="responsibilityManager.sortBy('asset_type')">
                                            Tipo <svg class="flaticon-icon ml-1 inline" style="width: 0.75rem; height: 0.75rem;" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                                <path d="M3 6h18M7 12h10M11 18h2" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                            </svg>
                                        </th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100" onclick="responsibilityManager.sortBy('status')">
                                            Estado <svg class="flaticon-icon ml-1 inline" style="width: 0.75rem; height: 0.75rem;" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                                <path d="M3 6h18M7 12h10M11 18h2" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                            </svg>
                                        </th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100" onclick="responsibilityManager.sortBy('created_at')">
                                            Creada <svg class="flaticon-icon ml-1 inline" style="width: 0.75rem; height: 0.75rem;" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                                <path d="M3 6h18M7 12h10M11 18h2" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                            </svg>
                                        </th>
                                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Acciones</th>
                                        </tr>
                                    </thead>
                                <tbody id="lettersTableBody" class="bg-white divide-y divide-gray-200">
                                    <!-- Letters will be populated here -->
                                    </tbody>
                                </table>
                            </div>
                        
                        <!-- Pagination -->
                        <div id="lettersPagination" class="px-6 py-4 border-t border-gray-200 flex items-center justify-between">
                            <div class="flex items-center text-sm text-gray-700">
                                <span id="lettersPaginationInfo">Mostrando 0 de 0 cartas</span>
                        </div>
                            <div class="flex items-center space-x-2">
                                <button id="lettersPrevPage" onclick="responsibilityManager.previousPage()" disabled class="px-3 py-1 text-sm font-medium text-gray-500 bg-white border border-gray-300 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed">
                                    <svg class="flaticon-icon" style="width: 1rem; height: 1rem;" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                        <polyline points="15 18 9 12 15 6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                    </svg>
                                </button>
                                <div id="lettersPageNumbers" class="flex space-x-1">
                                    <!-- Page numbers will be populated here -->
                                </div>
                                <button id="lettersNextPage" onclick="responsibilityManager.nextPage()" disabled class="px-3 py-1 text-sm font-medium text-gray-500 bg-white border border-gray-300 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed">
                                    <svg class="flaticon-icon" style="width: 1rem; height: 1rem;" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                        <polyline points="9 18 15 12 9 6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                    </svg>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Secure Onboarding Automation Section (removed per request) -->
            <div id="secure-onboarding-section" class="section hidden" style="display:none;">
                <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
                    <!-- Header -->
                    <div class="mb-8">
                        <h1 class="text-3xl font-bold text-gray-900">Automatización de Onboarding Seguro</h1>
                        <p class="mt-2 text-gray-600">Gestión segura de usuarios desde HiBob y activos desde Snipe-IT</p>
                        <div class="mt-4 p-4 bg-blue-50 border border-blue-200 rounded-lg">
                            <div class="flex">
                                <div class="flex-shrink-0">
                                    <i class="fas fa-shield-alt text-blue-400"></i>
                                </div>
                                <div class="ml-3">
                                    <h3 class="text-sm font-medium text-blue-800">Arquitectura de Proxy Seguro</h3>
                                    <div class="mt-2 text-sm text-blue-700">
                                        <p>✅ Sin credenciales en el frontend</p>
                                        <p>✅ Todas las llamadas API van a través del backend proxy</p>
                                        <p>✅ Integración segura con HiBob y Snipe-IT</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Stats Cards -->
                    <div class="grid grid-cols-1 md:grid-cols-4 gap-6 mb-8">
                        <div class="bg-white rounded-lg shadow-sm p-6">
                            <div class="flex items-center">
                                <div class="flex-shrink-0">
                                    <div class="w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center">
                                        <i class="fas fa-users text-blue-600"></i>
                                    </div>
                                </div>
                                <div class="ml-4">
                                    <p class="text-sm font-medium text-gray-500">Total Usuarios</p>
                                    <p class="text-2xl font-semibold text-gray-900" id="totalUsuariosProxy">-</p>
                                </div>
                            </div>
                        </div>
                        <div class="bg-white rounded-lg shadow-sm p-6">
                            <div class="flex items-center">
                                <div class="flex-shrink-0">
                                    <div class="w-8 h-8 bg-yellow-100 rounded-lg flex items-center justify-center">
                                        <svg class="flaticon-icon" style="width: 1.5rem; height: 1.5rem; color: #ff9500;" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                            <circle cx="12" cy="12" r="10" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                            <polyline points="12 6 12 12 16 14" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                        </svg>
                                    </div>
                                </div>
                                <div class="ml-4">
                                    <p class="text-sm font-medium text-gray-500">Pendientes</p>
                                    <p class="text-2xl font-semibold text-gray-900" id="pendientesProxy">-</p>
                                </div>
                            </div>
                        </div>
                        <div class="bg-white rounded-lg shadow-sm p-6">
                            <div class="flex items-center">
                                <div class="flex-shrink-0">
                                    <div class="w-8 h-8 bg-green-100 rounded-lg flex items-center justify-center">
                                        <svg class="flaticon-icon" style="width: 1.5rem; height: 1.5rem; color: #30d158;" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                            <path d="M22 11.08V12a10 10 0 1 1-5.93-9.14" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                            <polyline points="22 4 12 14.01 9 11.01" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                        </svg>
                                    </div>
                                </div>
                                <div class="ml-4">
                                    <p class="text-sm font-medium text-gray-500">Firmados</p>
                                    <p class="text-2xl font-semibold text-gray-900" id="firmadosProxy">-</p>
                                </div>
                            </div>
                        </div>
                        <div class="bg-white rounded-lg shadow-sm p-6">
                            <div class="flex items-center">
                                <div class="flex-shrink-0">
                                    <div class="w-8 h-8 bg-purple-100 rounded-lg flex items-center justify-center">
                                        <i class="fas fa-laptop text-purple-600"></i>
                                    </div>
                                </div>
                                <div class="ml-4">
                                    <p class="text-sm font-medium text-gray-500">Total Activos</p>
                                    <p class="text-2xl font-semibold text-gray-900" id="totalActivosProxy">-</p>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Controls -->
                    <div class="mb-6 flex flex-col sm:flex-row sm:items-center sm:justify-between">
                        <div class="flex flex-col sm:flex-row sm:items-center space-y-2 sm:space-y-0 sm:space-x-4">
                            <button onclick="window.secureOnboardingProxy.cargarUsuarios()" 
                                    class="inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200">
                                <i class="fas fa-sync-alt mr-2"></i>
                                Recargar desde Proxy
                            </button>
                            <div class="text-sm text-gray-500">
                                <span id="usuariosCount">Cargando usuarios...</span>
                            </div>
                        </div>
                    </div>

                    <!-- Users Table -->
                    <div class="bg-white shadow-sm rounded-lg overflow-hidden">
                        <div class="px-6 py-4 border-b border-gray-200">
                            <h2 class="text-lg font-semibold text-gray-900">Usuarios con Activos Asignados</h2>
                            <p class="text-sm text-gray-500 mt-1">Datos combinados desde HiBob y Snipe-IT</p>
                        </div>
                        
                        <div class="overflow-x-auto">
                            <table class="min-w-full divide-y divide-gray-200">
                                <thead class="bg-gray-50">
                                    <tr>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                                            Usuario
                                        </th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                                            Posición
                                        </th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                                            Ubicación
                                        </th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                                            Activos
                                        </th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                                            Estado Documento
                                        </th>
                                        <th class="px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider">
                                            Acciones
                                        </th>
                                    </tr>
                                </thead>
                                <tbody id="usuariosTableBody" class="bg-white divide-y divide-gray-200">
                                    <!-- Usuarios se cargarán aquí dinámicamente -->
                                    <tr>
                                        <td colspan="6" class="px-6 py-12 text-center">
                                            <div class="flex flex-col items-center">
                                                <div class="animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mb-4"></div>
                                                <p class="text-sm text-gray-500">Conectando con proxy backend seguro...</p>
                                            </div>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>

                    <!-- Security Info -->
                    <div class="mt-8 p-4 bg-gray-50 border border-gray-200 rounded-lg">
                        <h3 class="text-sm font-medium text-gray-900 mb-2">🔒 Información de Seguridad</h3>
                        <div class="text-sm text-gray-600 space-y-1">
                            <p><strong>Proxy Backend:</strong> http://localhost:3001/api/users</p>
                            <p><strong>Webhook eSign:</strong> http://localhost:3001/api/disparar-esign</p>
                            <p><strong>Credenciales:</strong> Gestionadas exclusivamente en el backend proxy</p>
                            <p><strong>Frontend:</strong> Sin tokens, claves o credenciales de API</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Offboarding Section -->
            <div id="offboarding-section" class="section hidden">
                <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
                    <!-- Header Apple Style -->
                    <div class="mb-12">
                        <h1 class="text-5xl font-semibold mb-3" style="color: #1d1d1f; letter-spacing: -0.02em;">Procesos de Offboarding</h1>
                        <p class="text-lg" style="color: #86868b; font-weight: 400;">Gestiona el proceso de salida de empleados</p>
                    </div>

                    <!-- Stats Cards -->
                    <div class="grid grid-cols-1 md:grid-cols-4 gap-6 mb-8">
                        <div class="bg-white rounded-lg shadow-sm p-6">
                            <div class="flex items-center">
                                <div class="flex-shrink-0">
                                    <div class="w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center">
                                        <i class="fas fa-user-minus text-blue-600"></i>
                                    </div>
                                </div>
                                <div class="ml-4">
                                    <p class="text-sm font-medium text-gray-500">Total Procesos</p>
                                    <p class="text-2xl font-semibold text-gray-900" id="totalOffboarding">-</p>
                                </div>
                            </div>
                        </div>
                        
                        <div class="bg-white rounded-lg shadow-sm p-6">
                            <div class="flex items-center">
                                <div class="flex-shrink-0">
                                    <div class="w-8 h-8 bg-yellow-100 rounded-lg flex items-center justify-center">
                                        <svg class="flaticon-icon" style="width: 1.5rem; height: 1.5rem; color: #ff9500;" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                            <circle cx="12" cy="12" r="10" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                            <polyline points="12 6 12 12 16 14" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                        </svg>
                                    </div>
                                </div>
                                <div class="ml-4">
                                    <p class="text-sm font-medium text-gray-500">En Progreso</p>
                                    <p class="text-2xl font-semibold text-gray-900" id="inProgressOffboarding">-</p>
                                </div>
                            </div>
                        </div>
                        
                        <div class="bg-white rounded-lg shadow-sm p-6">
                            <div class="flex items-center">
                                <div class="flex-shrink-0">
                                    <div class="w-8 h-8 bg-green-100 rounded-lg flex items-center justify-center">
                                        <svg class="flaticon-icon" style="width: 1.5rem; height: 1.5rem; color: #30d158;" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                            <path d="M22 11.08V12a10 10 0 1 1-5.93-9.14" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                            <polyline points="22 4 12 14.01 9 11.01" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                        </svg>
                                    </div>
                                </div>
                                <div class="ml-4">
                                    <p class="text-sm font-medium text-gray-500">Completados</p>
                                    <p class="text-2xl font-semibold text-gray-900" id="completedOffboarding">-</p>
                                </div>
                            </div>
                        </div>
                        
                        <div class="bg-white rounded-lg shadow-sm p-6">
                            <div class="flex items-center">
                                <div class="flex-shrink-0">
                                    <div class="w-8 h-8 bg-red-100 rounded-lg flex items-center justify-center">
                                        <i class="fas fa-calendar text-red-600"></i>
                                    </div>
                                </div>
                                <div class="ml-4">
                                    <p class="text-sm font-medium text-gray-500">Esta Semana</p>
                                    <p class="text-2xl font-semibold text-gray-900" id="thisWeekOffboarding">-</p>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Search and Filters -->
                    <div class="bg-white rounded-lg shadow-sm p-6 mb-6">
                        <div class="flex flex-col lg:flex-row lg:items-center lg:justify-between space-y-4 lg:space-y-0 lg:space-x-4">
                            <!-- Search -->
                            <div class="flex-1">
                                <div class="relative">
                                    <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
                                        <i class="fas fa-search text-gray-400"></i>
                                    </div>
                                    <input type="text" id="offboardingSearch" placeholder="Buscar por empleado, posición o departamento..." 
                                           class="block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-1 focus:ring-blue-500 focus:border-blue-500">
                                </div>
                            </div>
                            
                            <!-- Filters -->
                            <div class="flex flex-col sm:flex-row space-y-2 sm:space-y-0 sm:space-x-4">
                                <select id="statusOffboardingFilter" class="block w-full sm:w-auto px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500">
                                    <option value="">Todos los estados</option>
                                    <option value="pending">Pendiente</option>
                                    <option value="in_progress">En Progreso</option>
                                    <option value="completed">Completado</option>
                                    <option value="cancelled">Cancelado</option>
                                </select>
                                
                                <select id="locationOffboardingFilter" class="block w-full sm:w-auto px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500">
                                    <option value="">Todas las ubicaciones</option>
                                    <option value="MX">México</option>
                                    <option value="CL">Chile</option>
                                    <option value="REMOTO">Remoto</option>
                                </select>
                                
                                <select id="departmentOffboardingFilter" class="block w-full sm:w-auto px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500">
                                    <option value="">Todos los departamentos</option>
                                    <option value="IT">IT</option>
                                    <option value="HR">Recursos Humanos</option>
                                    <option value="Finance">Finanzas</option>
                                    <option value="Operations">Operaciones</option>
                                    <option value="Sales">Ventas</option>
                                </select>
                                
                                <button onclick="offboardingManager.clearFilters()" class="px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 border border-gray-300 rounded-md hover:bg-gray-200 focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500">
                                    <i class="fas fa-times mr-1"></i>
                                    Limpiar
                        </button>
                            </div>
                    </div>
                </div>

                    <!-- Offboarding Table -->
                    <div class="bg-white shadow-sm rounded-lg overflow-hidden">
                        <div class="px-6 py-4 border-b border-gray-200 flex justify-between items-center">
                            <div>
                                <h2 class="text-lg font-semibold text-gray-900">Procesos de Offboarding</h2>
                                <p class="text-sm text-gray-500 mt-1" id="offboardingCount">Mostrando 0 procesos</p>
                    </div>
                            <button onclick="openCreateOffboardingModal()" class="px-6 py-3 rounded-full flex items-center transition-all duration-200" style="background: #1d1d1f; color: white; font-weight: 500; font-size: 15px; letter-spacing: -0.01em;" onmouseover="this.style.background='#2d2d2f'" onmouseout="this.style.background='#1d1d1f'">
                                <i class="fas fa-plus mr-2 text-sm"></i>
                                Nuevo Proceso
                            </button>
                        </div>
                        
                        <div class="overflow-x-auto">
                            <table class="min-w-full divide-y divide-gray-200">
                                <thead class="bg-gray-50">
                                    <tr>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100" onclick="offboardingManager.sortBy('employee_name')">
                                            Empleado <svg class="flaticon-icon ml-1 inline" style="width: 0.75rem; height: 0.75rem;" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                                <path d="M3 6h18M7 12h10M11 18h2" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                            </svg>
                                        </th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100" onclick="offboardingManager.sortBy('position')">
                                            Posición <i class="fas fa-sort ml-1"></i>
                                        </th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100" onclick="offboardingManager.sortBy('department')">
                                            Departamento <i class="fas fa-sort ml-1"></i>
                                        </th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100" onclick="offboardingManager.sortBy('location')">
                                            País <i class="fas fa-sort ml-1"></i>
                                        </th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100" onclick="offboardingManager.sortBy('status')">
                                            Estado <i class="fas fa-sort ml-1"></i>
                                        </th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100" onclick="offboardingManager.sortBy('end_date')">
                                            Fecha Salida <i class="fas fa-sort ml-1"></i>
                                        </th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Progreso</th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Acciones</th>
                                    </tr>
                                </thead>
                                <tbody id="offboardingTableBody" class="bg-white divide-y divide-gray-200">
                                    <!-- Offboarding processes will be populated here -->
                                </tbody>
                            </table>
                        </div>
                        
                        <!-- Pagination -->
                        <div id="offboardingPagination" class="px-6 py-4 border-t border-gray-200 flex items-center justify-between">
                            <div class="flex items-center text-sm text-gray-700">
                                <span id="offboardingPaginationInfo">Mostrando 0 de 0 procesos</span>
                        </div>
                            <div class="flex items-center space-x-2">
                                <button id="offboardingPrevPage" onclick="offboardingManager.previousPage()" disabled class="px-3 py-1 text-sm font-medium text-gray-500 bg-white border border-gray-300 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed">
                                    <svg class="flaticon-icon" style="width: 1rem; height: 1rem;" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                        <polyline points="15 18 9 12 15 6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                    </svg>
                                </button>
                                <div id="offboardingPageNumbers" class="flex space-x-1">
                                    <!-- Page numbers will be populated here -->
                                </div>
                                <button id="offboardingNextPage" onclick="offboardingManager.nextPage()" disabled class="px-3 py-1 text-sm font-medium text-gray-500 bg-white border border-gray-300 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed">
                                    <svg class="flaticon-icon" style="width: 1rem; height: 1rem;" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                        <polyline points="9 18 15 12 9 6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                    </svg>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Jira Employees Section -->
            <div id="jira-employees-section" class="section hidden">
                <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
                    <!-- Header -->
                    <div class="mb-8">
                        <h1 class="text-3xl font-bold text-gray-900">Empleados de Jira</h1>
                        <p class="mt-2 text-gray-600">Empleados pendientes de offboarding desde Jira</p>
                    </div>

                    <!-- Stats Cards -->
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-8">
                        <div class="bg-white rounded-lg shadow-sm p-6">
                            <div class="flex items-center">
                                <div class="flex-shrink-0">
                                    <div class="w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center">
                                        <i class="fas fa-users text-blue-600"></i>
                                    </div>
                                </div>
                                <div class="ml-4">
                                    <p class="text-sm font-medium text-gray-500">Total Empleados</p>
                                    <p class="text-2xl font-semibold text-gray-900" id="totalJiraEmployees">-</p>
                                </div>
                            </div>
                        </div>
                        
                        <div class="bg-white rounded-lg shadow-sm p-6">
                            <div class="flex items-center">
                                <div class="flex-shrink-0">
                                    <div class="w-8 h-8 bg-yellow-100 rounded-lg flex items-center justify-center">
                                        <svg class="flaticon-icon" style="width: 1.5rem; height: 1.5rem; color: #ff9500;" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                            <circle cx="12" cy="12" r="10" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                            <polyline points="12 6 12 12 16 14" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                        </svg>
                                    </div>
                                </div>
                                <div class="ml-4">
                                    <p class="text-sm font-medium text-gray-500">Pendientes</p>
                                    <p class="text-2xl font-semibold text-gray-900" id="pendingJiraEmployees">-</p>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Jira Employees Table -->
                    <div class="bg-white shadow-sm rounded-lg overflow-hidden">
                        <div class="px-6 py-4 border-b border-gray-200 flex justify-between items-center">
                            <div>
                                <h2 class="text-lg font-semibold text-gray-900">Empleados Pendientes de Offboarding</h2>
                                <p class="text-sm text-gray-500 mt-1">Empleados que requieren carta de salida</p>
                            </div>
                            <button onclick="loadJiraEmployees()" class="px-6 py-3 rounded-full flex items-center transition-all duration-200" style="background: #1d1d1f; color: white; font-weight: 500; font-size: 15px; letter-spacing: -0.01em;" onmouseover="this.style.background='#2d2d2f'" onmouseout="this.style.background='#1d1d1f'">
                                <i class="fas fa-sync-alt mr-2 text-sm"></i>
                                Actualizar
                            </button>
                        </div>
                        
                        <div class="overflow-x-auto">
                            <table class="min-w-full divide-y divide-gray-200">
                                <thead class="bg-gray-50">
                                    <tr>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                                            Empleado
                                        </th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                                            Posición
                                        </th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                                            Departamento
                                        </th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                                            Razón
                                        </th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                                            Último Día
                                        </th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                                            Ticket Jira
                                        </th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                                            Acciones
                                        </th>
                                    </tr>
                                </thead>
                                <tbody id="jiraEmployeesTableBody" class="bg-white divide-y divide-gray-200">
                                    <!-- Jira employees will be populated here -->
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Users Management Section -->
            <div id="users-section" class="section hidden" style="background: #fbfbfd; min-height: 100vh;">
                <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
                    <!-- Header Apple Style -->
                    <div class="mb-12 relative">
                        <div class="bg-white rounded-3xl p-12 border border-gray-100" style="box-shadow: 0 2px 8px rgba(0,0,0,0.04);">
                            <div class="flex items-center justify-between">
                                <div>
                                    <h1 class="text-5xl font-semibold mb-3" style="color: #1d1d1f; letter-spacing: -0.02em;">Gestión de Usuarios</h1>
                                    <p class="text-lg" style="color: #86868b; font-weight: 400;">Administra usuarios, roles y permisos del sistema</p>
                                </div>
                                <div class="hidden md:block">
                                    <div class="w-24 h-24 rounded-full flex items-center justify-center" style="background: linear-gradient(135deg, #f5f5f7 0%, #ffffff 100%);">
                                        <svg class="flaticon-icon" style="width: 3rem; height: 3rem; color: #0071e3;" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                            <path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                            <circle cx="9" cy="7" r="4" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                            <path d="M23 21v-2a4 4 0 0 0-3-3.87" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                            <path d="M16 3.13a4 4 0 0 1 0 7.75" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                        </svg>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Stats Cards Apple Style -->
                    <div class="grid grid-cols-1 md:grid-cols-4 gap-4 mb-12">
                        <div class="bg-white rounded-2xl p-8 border border-gray-100" style="box-shadow: 0 1px 3px rgba(0,0,0,0.05);">
                            <div class="flex items-center justify-between">
                                <div>
                                    <p class="text-sm font-medium mb-2" style="color: #86868b; letter-spacing: 0.01em;">Total Usuarios</p>
                                    <p class="text-4xl font-semibold mb-1" style="color: #1d1d1f; letter-spacing: -0.02em;" id="totalUsers">-</p>
                                </div>
                                <div class="w-14 h-14 rounded-2xl flex items-center justify-center" style="background: #f5f5f7;">
                                    <svg class="flaticon-icon text-lg" style="width: 1.125rem; height: 1.125rem; color: #0071e3;" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                        <path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                        <circle cx="9" cy="7" r="4" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                        <path d="M23 21v-2a4 4 0 0 0-3-3.87" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                        <path d="M16 3.13a4 4 0 0 1 0 7.75" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                    </svg>
                                </div>
                            </div>
                        </div>
                        
                        <div class="bg-white rounded-2xl p-8 border border-gray-100" style="box-shadow: 0 1px 3px rgba(0,0,0,0.05);">
                            <div class="flex items-center justify-between">
                                <div>
                                    <p class="text-sm font-medium mb-2" style="color: #86868b; letter-spacing: 0.01em;">Usuarios Activos</p>
                                    <p class="text-4xl font-semibold mb-1" style="color: #1d1d1f; letter-spacing: -0.02em;" id="activeUsers">-</p>
                                </div>
                                <div class="w-14 h-14 rounded-2xl flex items-center justify-center" style="background: #f5f5f7;">
                                    <svg class="flaticon-icon text-lg" style="width: 1.125rem; height: 1.125rem; color: #30d158;" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                        <path d="M22 11.08V12a10 10 0 1 1-5.93-9.14" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                        <polyline points="22 4 12 14.01 9 11.01" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                    </svg>
                                </div>
                            </div>
                        </div>
                        
                        <div class="bg-white rounded-2xl p-8 border border-gray-100" style="box-shadow: 0 1px 3px rgba(0,0,0,0.05);">
                            <div class="flex items-center justify-between">
                                <div>
                                    <p class="text-sm font-medium mb-2" style="color: #86868b; letter-spacing: 0.01em;">Administradores</p>
                                    <p class="text-4xl font-semibold mb-1" style="color: #1d1d1f; letter-spacing: -0.02em;" id="adminUsers">-</p>
                                </div>
                                <div class="w-14 h-14 rounded-2xl flex items-center justify-center" style="background: #f5f5f7;">
                                    <svg class="flaticon-icon text-lg" style="width: 1.125rem; height: 1.125rem; color: #ff9500;" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                        <path d="M12 2L15.09 8.26L22 9.27L17 14.14L18.18 21.02L12 17.77L5.82 21.02L7 14.14L2 9.27L8.91 8.26L12 2Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                    </svg>
                                </div>
                            </div>
                        </div>
                        
                        <div class="bg-white rounded-2xl p-8 border border-gray-100" style="box-shadow: 0 1px 3px rgba(0,0,0,0.05);">
                            <div class="flex items-center justify-between">
                                <div>
                                    <p class="text-sm font-medium mb-2" style="color: #86868b; letter-spacing: 0.01em;">Auditores</p>
                                    <p class="text-4xl font-semibold mb-1" style="color: #1d1d1f; letter-spacing: -0.02em;" id="auditorUsers">-</p>
                                </div>
                                <div class="w-14 h-14 rounded-2xl flex items-center justify-center" style="background: #f5f5f7;">
                                    <svg class="flaticon-icon text-lg" style="width: 1.125rem; height: 1.125rem; color: #86868b;" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                        <circle cx="11" cy="11" r="8" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                        <path d="m21 21-4.35-4.35" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                    </svg>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Search and Filters Apple Style -->
                    <div class="bg-white rounded-3xl p-8 mb-8 border border-gray-100" style="box-shadow: 0 2px 8px rgba(0,0,0,0.04);">
                        <div class="flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4">
                            <!-- Search -->
                            <div class="flex-1">
                                <div class="relative">
                                    <div class="absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none">
                                        <svg class="flaticon-icon" style="width: 0.875rem; height: 0.875rem; color: #86868b;" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                            <circle cx="11" cy="11" r="8" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                            <path d="m21 21-4.35-4.35" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                        </svg>
                                    </div>
                                    <input type="text" id="userSearch" placeholder="Buscar usuarios por nombre, email o username..." 
                                           class="block w-full pl-12 pr-4 py-3 rounded-full text-sm focus:outline-none" style="background: #f5f5f7; border: 1px solid #d2d2d7; color: #1d1d1f; font-size: 15px;" onfocus="this.style.background='white'; this.style.borderColor='#0071e3'" onblur="this.style.background='#f5f5f7'; this.style.borderColor='#d2d2d7'">
                                </div>
                            </div>
                            
                            <!-- Filters -->
                            <div class="flex flex-col sm:flex-row gap-3">
                                <select id="roleFilter" class="px-4 py-3 rounded-full text-sm focus:outline-none" style="background: #f5f5f7; border: 1px solid #d2d2d7; color: #1d1d1f; font-size: 15px;" onfocus="this.style.background='white'; this.style.borderColor='#0071e3'" onblur="this.style.background='#f5f5f7'; this.style.borderColor='#d2d2d7'">
                                    <option value="">Todos los roles</option>
                                    <option value="admin">Administradores</option>
                                    <option value="auditor">Auditores</option>
                                </select>
                                
                                <select id="statusFilter" class="px-4 py-3 rounded-full text-sm focus:outline-none" style="background: #f5f5f7; border: 1px solid #d2d2d7; color: #1d1d1f; font-size: 15px;" onfocus="this.style.background='white'; this.style.borderColor='#0071e3'" onblur="this.style.background='#f5f5f7'; this.style.borderColor='#d2d2d7'">
                                    <option value="">Todos los estados</option>
                                    <option value="true">Activos</option>
                                    <option value="false">Inactivos</option>
                                </select>
                                
                                <select id="locationFilter" class="px-4 py-3 rounded-full text-sm focus:outline-none" style="background: #f5f5f7; border: 1px solid #d2d2d7; color: #1d1d1f; font-size: 15px;" onfocus="this.style.background='white'; this.style.borderColor='#0071e3'" onblur="this.style.background='#f5f5f7'; this.style.borderColor='#d2d2d7'">
                                    <option value="">Todas las ubicaciones</option>
                                    <option value="MX">México</option>
                                    <option value="CL">Chile</option>
                                    <option value="REMOTO">Remoto</option>
                                </select>
                                
                                <button onclick="userManager.clearFilters()" class="px-4 py-3 rounded-full text-sm font-medium transition-all duration-200" style="background: #f5f5f7; border: 1px solid #d2d2d7; color: #1d1d1f; font-size: 15px;" onmouseover="this.style.background='#e5e5e7'" onmouseout="this.style.background='#f5f5f7'">
                                    <svg class="flaticon-icon inline mr-1" style="width: 0.875rem; height: 0.875rem;" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                        <line x1="18" y1="6" x2="6" y2="18" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                        <line x1="6" y1="6" x2="18" y2="18" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                    </svg>
                                    Limpiar
                                </button>
                            </div>
                        </div>
                    </div>

                    <!-- Actions Bar Apple Style -->
                    <div class="bg-white rounded-3xl p-8 mb-8 border border-gray-100" style="box-shadow: 0 2px 8px rgba(0,0,0,0.04);">
                        <div class="flex flex-row items-center justify-between gap-6 flex-wrap">
                            <div class="flex flex-row flex-wrap items-center gap-3">
                                <button onclick="openCreateUserModal()" class="px-6 py-3 rounded-full flex items-center whitespace-nowrap transition-all duration-200" style="background: #1d1d1f; color: white; font-weight: 500; font-size: 15px; letter-spacing: -0.01em;" onmouseover="this.style.background='#2d2d2f'" onmouseout="this.style.background='#1d1d1f'">
                                    <svg class="flaticon-icon mr-2 text-sm" style="width: 0.875rem; height: 0.875rem;" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                        <line x1="12" y1="5" x2="12" y2="19" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                        <line x1="5" y1="12" x2="19" y2="12" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                    </svg>
                                    Nuevo Usuario
                                </button>
                                <button onclick="loadUsers()" class="px-6 py-3 rounded-full flex items-center whitespace-nowrap transition-all duration-200" style="background: #1d1d1f; color: white; font-weight: 500; font-size: 15px; letter-spacing: -0.01em;" onmouseover="this.style.background='#2d2d2f'" onmouseout="this.style.background='#1d1d1f'">
                                    <svg class="flaticon-icon mr-2 text-sm" style="width: 0.875rem; height: 0.875rem;" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                        <path d="M21.5 2v6h-6M2.5 22v-6h6M2 11.5a10 10 0 0 1 18.8-4.3M22 12.5a10 10 0 0 1-18.8 4.3" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                    </svg>
                                    Recargar
                                </button>
                            </div>
                            <div class="text-sm" style="color: #86868b;" id="usersCount">Mostrando 0 usuarios</div>
                        </div>
                    </div>

                    <!-- Users Table Apple Style -->
                    <div class="bg-white rounded-3xl overflow-hidden border border-gray-100" style="box-shadow: 0 2px 8px rgba(0,0,0,0.04);">
                        <div class="px-8 py-6 border-b" style="border-color: #f5f5f7;">
                            <h3 class="text-2xl font-semibold flex items-center" style="color: #1d1d1f; letter-spacing: -0.02em;">
                                <svg class="flaticon-icon mr-3" style="width: 1.5rem; height: 1.5rem; color: #0071e3;" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                    <circle cx="9" cy="7" r="4" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                    <path d="M23 21v-2a4 4 0 0 0-3-3.87" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                    <path d="M16 3.13a4 4 0 0 1 0 7.75" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                </svg>
                                Lista de Usuarios
                            </h3>
                        </div>
                        
                        <div class="overflow-x-auto">
                            <table class="min-w-full divide-y divide-gray-200">
                                <thead class="bg-gray-50">
                                    <tr>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100" onclick="userManager.sortBy('full_name')">
                                            Usuario <svg class="flaticon-icon ml-1 inline" style="width: 0.75rem; height: 0.75rem;" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                                <path d="M3 6h18M7 12h10M11 18h2" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                            </svg>
                                        </th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100" onclick="userManager.sortBy('email')">
                                            Email <svg class="flaticon-icon ml-1 inline" style="width: 0.75rem; height: 0.75rem;" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                                <path d="M3 6h18M7 12h10M11 18h2" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                            </svg>
                                        </th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100" onclick="userManager.sortBy('role')">
                                            Rol <svg class="flaticon-icon ml-1 inline" style="width: 0.75rem; height: 0.75rem;" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                                <path d="M3 6h18M7 12h10M11 18h2" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                            </svg>
                                        </th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100" onclick="userManager.sortBy('location')">
                                            Ubicación <svg class="flaticon-icon ml-1 inline" style="width: 0.75rem; height: 0.75rem;" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                                <path d="M3 6h18M7 12h10M11 18h2" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                            </svg>
                                        </th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100" onclick="userManager.sortBy('is_active')">
                                            Estado <svg class="flaticon-icon ml-1 inline" style="width: 0.75rem; height: 0.75rem;" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                                <path d="M3 6h18M7 12h10M11 18h2" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                            </svg>
                                        </th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100" onclick="userManager.sortBy('created_at')">
                                            Creado <svg class="flaticon-icon ml-1 inline" style="width: 0.75rem; height: 0.75rem;" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                                <path d="M3 6h18M7 12h10M11 18h2" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                            </svg>
                                        </th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Acciones</th>
                                    </tr>
                                </thead>
                                <tbody id="usersTableBody" class="bg-white divide-y divide-gray-200">
                                    <!-- Users will be populated here -->
                                </tbody>
                            </table>
                        </div>
                        
                        <!-- Pagination -->
                        <div id="usersPagination" class="px-6 py-4 border-t border-gray-200 flex items-center justify-between">
                            <div class="flex items-center text-sm text-gray-700">
                                <span id="paginationInfo">Mostrando 0 de 0 usuarios</span>
                            </div>
                            <div class="flex items-center space-x-2">
                                <button id="prevPage" onclick="userManager.previousPage()" disabled class="px-3 py-1 text-sm font-medium text-gray-500 bg-white border border-gray-300 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed">
                                    <svg class="flaticon-icon" style="width: 1rem; height: 1rem;" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                        <polyline points="15 18 9 12 15 6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                    </svg>
                                </button>
                                <div id="pageNumbers" class="flex space-x-1">
                                    <!-- Page numbers will be populated here -->
                                </div>
                                <button id="nextPage" onclick="userManager.nextPage()" disabled class="px-3 py-1 text-sm font-medium text-gray-500 bg-white border border-gray-300 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed">
                                    <svg class="flaticon-icon" style="width: 1rem; height: 1rem;" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                        <polyline points="9 18 15 12 9 6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                    </svg>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <!-- Profile Section -->
    <div id="profile-section" class="section hidden">
        <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
            <!-- Header -->
            <div class="mb-8">
                <div class="bg-gradient-to-r from-purple-600 to-blue-600 rounded-2xl p-8 text-white shadow-xl">
                    <div class="flex items-center justify-between">
                        <div>
                            <h1 class="text-4xl font-bold mb-2">👤 Mi Perfil</h1>
                            <p class="text-purple-100 text-lg">Gestiona tu información personal y configuración</p>
                        </div>
                        <div class="hidden md:block">
                            <div class="w-20 h-20 bg-white bg-opacity-20 rounded-full flex items-center justify-center">
                                <i class="fas fa-user-cog text-3xl text-white"></i>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Profile Content -->
            <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
                <!-- Profile Info Card -->
                <div class="lg:col-span-1">
                    <div class="bg-white rounded-2xl shadow-lg p-6 border border-gray-100">
                        <div class="text-center">
                            <div class="w-24 h-24 bg-gradient-to-br from-purple-400 to-blue-600 rounded-full flex items-center justify-center shadow-lg mx-auto mb-4">
                                <span id="profileInitials" class="text-2xl font-bold text-white">US</span>
                            </div>
                            <h3 id="profileName" class="text-xl font-semibold text-gray-900 mb-2">Usuario</h3>
                            <p id="profileRole" class="text-sm text-gray-500 mb-4">Administrador</p>
                            <p id="profileEmail" class="text-sm text-gray-600 mb-6">usuario@empresa.com</p>
                            
                            <!-- Quick Actions -->
                            <div class="space-y-2">
                                <button onclick="editProfile()" class="w-full bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors duration-200 text-sm font-medium">
                                    <i class="fas fa-edit mr-2"></i>Editar Perfil
                                </button>
                                <button onclick="changePassword()" class="w-full bg-gray-100 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-200 transition-colors duration-200 text-sm font-medium">
                                    <i class="fas fa-key mr-2"></i>Cambiar Contraseña
                                </button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Profile Details -->
                <div class="lg:col-span-2">
                    <div class="bg-white rounded-2xl shadow-lg border border-gray-100">
                        <div class="px-6 py-4 bg-gradient-to-r from-gray-50 to-gray-100 border-b border-gray-200">
                            <h3 class="text-lg font-semibold text-gray-800 flex items-center">
                                <i class="fas fa-info-circle mr-2 text-purple-600"></i>
                                Información Personal
                            </h3>
                        </div>
                        <div class="p-6">
                            <form id="profileForm" class="space-y-6">
                                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                                    <div>
                                        <label class="block text-sm font-medium text-gray-700 mb-2">Nombre Completo</label>
                                        <input type="text" id="profileFullName" class="w-full border border-gray-300 rounded-lg px-4 py-3 text-sm focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent" placeholder="Ingresa tu nombre completo">
                                    </div>
                                    <div>
                                        <label class="block text-sm font-medium text-gray-700 mb-2">Email</label>
                                        <input type="email" id="profileEmailInput" class="w-full border border-gray-300 rounded-lg px-4 py-3 text-sm focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent" placeholder="tu@empresa.com">
                                    </div>
                                </div>
                                
                                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                                    <div>
                                        <label class="block text-sm font-medium text-gray-700 mb-2">Teléfono</label>
                                        <input type="tel" id="profilePhone" class="w-full border border-gray-300 rounded-lg px-4 py-3 text-sm focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent" placeholder="+52 55 1234 5678">
                                    </div>
                                    <div>
                                        <label class="block text-sm font-medium text-gray-700 mb-2">Departamento</label>
                                        <select id="profileDepartment" class="w-full border border-gray-300 rounded-lg px-4 py-3 text-sm focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent">
                                            <option value="">Selecciona un departamento</option>
                                            <option value="IT">Tecnología de la Información</option>
                                            <option value="HR">Recursos Humanos</option>
                                            <option value="Finance">Finanzas</option>
                                            <option value="Operations">Operaciones</option>
                                            <option value="Sales">Ventas</option>
                                            <option value="Marketing">Marketing</option>
                                        </select>
                                    </div>
                                </div>

                                <div>
                                    <label class="block text-sm font-medium text-gray-700 mb-2">Ubicación</label>
                                    <select id="profileLocation" class="w-full border border-gray-300 rounded-lg px-4 py-3 text-sm focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent">
                                        <option value="">Selecciona una ubicación</option>
                                        <option value="MX">México</option>
                                        <option value="CL">Chile</option>
                                        <option value="REMOTO">Remoto</option>
                                    </select>
                                </div>

                                <div class="flex justify-end space-x-3 pt-4">
                                    <button type="button" onclick="cancelProfileEdit()" class="px-6 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors duration-200">
                                        Cancelar
                                    </button>
                                    <button type="submit" class="px-6 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors duration-200">
                                        <i class="fas fa-save mr-2"></i>Guardar Cambios
                                    </button>
                                </div>
                            </form>
                        </div>
                    </div>

                    <!-- Activity Log -->
                    <div class="mt-8 bg-white rounded-2xl shadow-lg border border-gray-100">
                        <div class="px-6 py-4 bg-gradient-to-r from-gray-50 to-gray-100 border-b border-gray-200">
                            <h3 class="text-lg font-semibold text-gray-800 flex items-center">
                                <i class="fas fa-history mr-2 text-purple-600"></i>
                                Actividad Reciente
                            </h3>
                        </div>
                        <div class="p-6">
                            <div class="space-y-4">
                                <div class="flex items-center space-x-3 p-3 bg-blue-50 rounded-lg">
                                    <div class="w-8 h-8 bg-blue-500 rounded-full flex items-center justify-center">
                                        <i class="fas fa-sign-in-alt text-white text-sm"></i>
                                    </div>
                                    <div class="flex-1">
                                        <p class="text-sm font-medium text-gray-900">Inicio de sesión</p>
                                        <p class="text-xs text-gray-500">Hace 2 horas</p>
                                    </div>
                                </div>
                                
                                <div class="flex items-center space-x-3 p-3 bg-green-50 rounded-lg">
                                    <div class="w-8 h-8 bg-green-500 rounded-full flex items-center justify-center">
                                        <i class="fas fa-user-edit text-white text-sm"></i>
                                    </div>
                                    <div class="flex-1">
                                        <p class="text-sm font-medium text-gray-900">Perfil actualizado</p>
                                        <p class="text-xs text-gray-500">Hace 1 día</p>
                                    </div>
                                </div>
                                
                                <div class="flex items-center space-x-3 p-3 bg-yellow-50 rounded-lg">
                                    <div class="w-8 h-8 bg-yellow-500 rounded-full flex items-center justify-center">
                                        <i class="fas fa-key text-white text-sm"></i>
                                    </div>
                                    <div class="flex-1">
                                        <p class="text-sm font-medium text-gray-900">Contraseña cambiada</p>
                                        <p class="text-xs text-gray-500">Hace 3 días</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Modals -->
    <!-- Create Asset Modal -->
    <div id="createAssetModal" class="fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full hidden z-50">
        <div class="relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white">
            <div class="mt-3">
                <h3 class="text-lg font-medium text-gray-900 mb-4">Crear Nuevo Asset</h3>
                <form id="createAssetForm" class="space-y-4">
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-1">Asset Tag</label>
                        <input type="text" id="assetTag" required class="w-full border border-gray-300 rounded-md px-3 py-2 text-sm">
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-1">Nombre</label>
                        <input type="text" id="assetName" required class="w-full border border-gray-300 rounded-md px-3 py-2 text-sm">
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-1">Categoría</label>
                        <select id="assetCategory" required class="w-full border border-gray-300 rounded-md px-3 py-2 text-sm">
                            <option value="">Seleccionar categoría</option>
                            <option value="Laptop">Laptop</option>
                            <option value="Monitor">Monitor</option>
                            <option value="Phone">Teléfono</option>
                            <option value="Tablet">Tablet</option>
                            <option value="Other">Otro</option>
                        </select>
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-1">Ubicación</label>
                        <select id="assetLocation" required class="w-full border border-gray-300 rounded-md px-3 py-2 text-sm">
                            <option value="">Seleccionar ubicación</option>
                            <option value="MX">México</option>
                            <option value="CL">Chile</option>
                            <option value="REMOTO">Remoto</option>
                        </select>
                    </div>
                    <div class="flex justify-end space-x-3 pt-4">
                        <button type="button" onclick="closeCreateAssetModal()" class="px-4 py-2 text-sm font-medium text-gray-700 bg-gray-200 rounded-md hover:bg-gray-300">
                            Cancelar
                        </button>
                        <button type="submit" class="px-4 py-2 text-sm font-medium text-white bg-primary-600 rounded-md hover:bg-primary-700">
                            Crear Asset
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Create Responsibility Letter Modal -->
    <div id="createResponsibilityLetterModal" class="fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full hidden z-50">
        <div class="relative top-10 mx-auto p-5 border w-11/12 max-w-2xl shadow-lg rounded-md bg-white">
            <div class="mt-3">
                <div class="flex justify-between items-center mb-4">
                    <h3 class="text-lg font-medium text-gray-900">Crear Carta de Responsabilidad</h3>
                    <button onclick="closeCreateResponsibilityLetterModal()" class="text-gray-400 hover:text-gray-600">
                        <i class="fas fa-times text-xl"></i>
                    </button>
                </div>
                <form id="createResponsibilityLetterForm" class="space-y-4">
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">Nombre del Empleado *</label>
                            <input type="text" id="employeeName" required class="w-full border border-gray-300 rounded-md px-3 py-2 text-sm">
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">ID de Empleado</label>
                            <input type="text" id="employeeId" class="w-full border border-gray-300 rounded-md px-3 py-2 text-sm">
                        </div>
                    </div>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">Posición *</label>
                            <input type="text" id="position" required class="w-full border border-gray-300 rounded-md px-3 py-2 text-sm">
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">Departamento *</label>
                            <input type="text" id="department" required class="w-full border border-gray-300 rounded-md px-3 py-2 text-sm">
                        </div>
                    </div>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">Ubicación *</label>
                            <select id="location" required class="w-full border border-gray-300 rounded-md px-3 py-2 text-sm">
                                <option value="">Seleccionar ubicación</option>
                                <option value="MX">México</option>
                                <option value="CL">Chile</option>
                                <option value="REMOTO">Remoto</option>
                            </select>
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">Fecha de Inicio *</label>
                            <input type="date" id="startDate" required class="w-full border border-gray-300 rounded-md px-3 py-2 text-sm">
                        </div>
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-1">Assets Asignados</label>
                        <div id="assetsList" class="space-y-2 max-h-32 overflow-y-auto border border-gray-300 rounded-md p-3">
                            <!-- Assets will be populated here -->
                        </div>
                        <button type="button" onclick="addAssetToLetter()" class="mt-2 text-sm text-primary-600 hover:text-primary-800">
                            <i class="fas fa-plus mr-1"></i>Agregar Asset
                        </button>
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-1">Términos Adicionales</label>
                        <textarea id="additionalTerms" rows="3" class="w-full border border-gray-300 rounded-md px-3 py-2 text-sm" placeholder="Términos específicos adicionales..."></textarea>
                    </div>
                    <div class="flex justify-end space-x-3 pt-4">
                        <button type="button" onclick="closeCreateResponsibilityLetterModal()" class="px-4 py-2 text-sm font-medium text-gray-700 bg-gray-200 rounded-md hover:bg-gray-300">
                            Cancelar
                        </button>
                        <button type="submit" class="px-4 py-2 text-sm font-medium text-white bg-green-600 rounded-md hover:bg-green-700">
                            <i class="fas fa-file-alt mr-2"></i>Generar Carta
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Assign Asset Modal -->
    <div id="assignAssetModal" class="fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full hidden z-50">
        <div class="relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white">
            <div class="mt-3">
                <h3 class="text-lg font-medium text-gray-900 mb-4">Asignar Asset</h3>
                <form id="assignAssetForm" class="space-y-4">
                    <input type="hidden" id="assignAssetId">
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-1">Asset</label>
                        <input type="text" id="assignAssetName" readonly class="w-full border border-gray-300 rounded-md px-3 py-2 text-sm bg-gray-50">
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-1">Asignar a</label>
                        <select id="assignUserId" required class="w-full border border-gray-300 rounded-md px-3 py-2 text-sm">
                            <option value="">Seleccionar usuario</option>
                        </select>
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-1">Notas</label>
                        <textarea id="assignNotes" rows="3" class="w-full border border-gray-300 rounded-md px-3 py-2 text-sm"></textarea>
                    </div>
                    <div class="flex justify-end space-x-3 pt-4">
                        <button type="button" onclick="closeAssignAssetModal()" class="px-4 py-2 text-sm font-medium text-gray-700 bg-gray-200 rounded-md hover:bg-gray-300">
                            Cancelar
                        </button>
                        <button type="submit" class="px-4 py-2 text-sm font-medium text-white bg-primary-600 rounded-md hover:bg-primary-700">
                            Asignar Asset
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Create Onboarding Modal -->
    <div id="createOnboardingModal" class="fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full hidden z-50">
        <div class="relative top-4 sm:top-10 mx-auto p-4 sm:p-5 border w-full sm:w-11/12 max-w-2xl shadow-lg rounded-md bg-white m-2 sm:m-0">
            <div class="mt-3">
                <div class="flex justify-between items-center mb-4">
                    <h3 class="text-lg font-medium text-gray-900">Iniciar Proceso de Onboarding</h3>
                    <button onclick="closeCreateOnboardingModal()" class="text-gray-400 hover:text-gray-600">
                        <i class="fas fa-times text-xl"></i>
                    </button>
                </div>
                <form id="createOnboardingForm" class="space-y-4">
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                        <div class="relative" style="z-index: 1;">
                            <label class="block text-sm font-medium text-gray-700 mb-1">Nombre del Empleado *</label>
                            <input type="text" id="onboardingEmployeeName" required autocomplete="off" class="w-full border border-gray-300 rounded-md px-3 py-2 text-sm" placeholder="Escribe el nombre para buscar en Snipe-IT...">
                            <div id="onboardingEmployeeAutocomplete" class="absolute w-full bg-white border border-gray-300 rounded-md shadow-lg mt-1 max-h-60 overflow-y-auto hidden" style="top: 100%; left: 0; z-index: 100001;">
                                <!-- Autocomplete results will be populated here -->
                            </div>
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">ID de Empleado</label>
                            <input type="text" id="onboardingEmployeeId" class="w-full border border-gray-300 rounded-md px-3 py-2 text-sm">
                        </div>
                    </div>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">Email</label>
                            <input type="email" id="onboardingEmail" class="w-full border border-gray-300 rounded-md px-3 py-2 text-sm">
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">Posición *</label>
                            <input type="text" id="onboardingPosition" required class="w-full border border-gray-300 rounded-md px-3 py-2 text-sm">
                        </div>
                    </div>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">Departamento *</label>
                            <input type="text" id="onboardingDepartment" required class="w-full border border-gray-300 rounded-md px-3 py-2 text-sm">
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">Ubicación *</label>
                            <select id="onboardingLocation" required class="w-full border border-gray-300 rounded-md px-3 py-2 text-sm">
                                <option value="">Seleccionar ubicación</option>
                                <option value="MX">México</option>
                                <option value="CL">Chile</option>
                                <option value="REMOTO">Remoto</option>
                            </select>
                        </div>
                    </div>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">Fecha de Inicio *</label>
                            <input type="date" id="onboardingStartDate" required class="w-full border border-gray-300 rounded-md px-3 py-2 text-sm">
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">Manager</label>
                            <select id="onboardingManager" class="w-full border border-gray-300 rounded-md px-3 py-2 text-sm">
                                <option value="">Seleccionar manager</option>
                            </select>
                        </div>
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-1">Plantilla de Onboarding</label>
                        <select id="onboardingTemplate" class="w-full border border-gray-300 rounded-md px-3 py-2 text-sm">
                            <option value="">Seleccionar plantilla (opcional)</option>
                        </select>
                    </div>
                    <div id="templateSteps" class="space-y-2">
                        <!-- Template steps will be populated here -->
                    </div>
                    <div class="flex justify-end space-x-3 pt-4">
                        <button type="button" onclick="closeCreateOnboardingModal()" class="px-4 py-2 text-sm font-medium text-gray-700 bg-gray-200 rounded-md hover:bg-gray-300">
                            Cancelar
                        </button>
                        <button type="submit" class="px-4 py-2 text-sm font-medium text-white bg-green-600 rounded-md hover:bg-green-700">
                            <i class="fas fa-play mr-2"></i>Iniciar Onboarding
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Create Offboarding Modal -->
    <div id="createOffboardingModal" class="fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full hidden" style="z-index: 100000 !important;">
        <div class="relative top-4 sm:top-10 mx-auto p-4 sm:p-5 border w-full sm:w-11/12 max-w-2xl shadow-lg rounded-md bg-white m-2 sm:m-0">
            <div class="mt-3">
                <div class="flex justify-between items-center mb-4">
                    <h3 class="text-lg font-medium text-gray-900">Iniciar Proceso de Offboarding</h3>
                    <button onclick="closeCreateOffboardingModal()" class="text-gray-400 hover:text-gray-600">
                        <i class="fas fa-times text-xl"></i>
                    </button>
                </div>
                <form id="createOffboardingForm" class="space-y-4">
                    <div class="relative" style="z-index: 1;">
                        <label class="block text-sm font-medium text-gray-700 mb-1">Nombre del Empleado *</label>
                        <input type="text" id="offboardingEmployeeName" required autocomplete="off" class="w-full border border-gray-300 rounded-md px-3 py-2 text-sm" placeholder="Escribe el nombre para buscar en Snipe-IT...">
                        <div id="offboardingEmployeeAutocomplete" class="absolute w-full bg-white border border-gray-300 rounded-md shadow-lg mt-1 max-h-60 overflow-y-auto hidden" style="top: 100%; left: 0; z-index: 100001;">
                            <!-- Autocomplete results will be populated here -->
                        </div>
                    </div>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">Email *</label>
                            <input type="email" id="offboardingEmail" required class="w-full border border-gray-300 rounded-md px-3 py-2 text-sm" placeholder="email@empresa.com">
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">Posición *</label>
                            <input type="text" id="offboardingPosition" required class="w-full border border-gray-300 rounded-md px-3 py-2 text-sm" placeholder="Cargo del empleado">
                        </div>
                    </div>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">Departamento *</label>
                            <input type="text" id="offboardingDepartment" required class="w-full border border-gray-300 rounded-md px-3 py-2 text-sm" placeholder="Departamento">
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">Ubicación *</label>
                            <select id="offboardingLocation" required class="w-full border border-gray-300 rounded-md px-3 py-2 text-sm">
                                <option value="">Seleccionar ubicación</option>
                                <option value="MX">México</option>
                                <option value="CL">Chile</option>
                                <option value="CO">Colombia</option>
                                <option value="PE">Perú</option>
                                <option value="AR">Argentina</option>
                                <option value="REMOTO">Remoto</option>
                            </select>
                        </div>
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-1">Último Día de Trabajo *</label>
                        <input type="date" id="offboardingLastDay" required class="w-full border border-gray-300 rounded-md px-3 py-2 text-sm">
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-1">Días de Retención de Datos</label>
                        <input type="number" id="dataRetentionDays" value="30" min="1" max="365" class="w-full border border-gray-300 rounded-md px-3 py-2 text-sm">
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-1">Notas o Comentarios</label>
                        <textarea id="offboardingNotes" rows="3" class="w-full border border-gray-300 rounded-md px-3 py-2 text-sm" placeholder="Notas adicionales sobre el proceso de offboarding..."></textarea>
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-1">Plantilla de Offboarding</label>
                        <select id="offboardingTemplate" class="w-full border border-gray-300 rounded-md px-3 py-2 text-sm">
                            <option value="">Seleccionar plantilla (opcional)</option>
                        </select>
                    </div>
                    <div id="offboardingTemplateSteps" class="space-y-2">
                        <!-- Template steps will be populated here -->
                    </div>
                    <div>
                        <label class="flex items-center">
                            <input type="checkbox" id="returnAssets" checked class="rounded border-gray-300 text-blue-600 shadow-sm focus:border-blue-300 focus:ring focus:ring-blue-200 focus:ring-opacity-50">
                            <span class="ml-2 text-sm text-gray-700">Devolver assets automáticamente</span>
                        </label>
                    </div>
                    <div id="employeeAssetsList" class="space-y-2">
                        <!-- Employee assets will be populated here -->
                    </div>
                    <div class="flex justify-end space-x-3 pt-4">
                        <button type="button" onclick="closeCreateOffboardingModal()" class="px-4 py-2 text-sm font-medium text-gray-700 bg-gray-200 rounded-md hover:bg-gray-300">
                            Cancelar
                        </button>
                        <button type="submit" class="px-4 py-2 text-sm font-medium text-white bg-red-600 rounded-md hover:bg-red-700">
                            <i class="fas fa-play mr-2"></i>Iniciar Offboarding
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Preferences Modal -->
    <div id="preferencesModal" class="fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full hidden z-50">
        <div class="relative top-10 mx-auto p-5 border w-11/12 max-w-4xl shadow-lg rounded-md bg-white">
            <div class="mt-3">
                <div class="flex justify-between items-center mb-4">
                    <h3 class="text-lg font-medium text-gray-900">Preferencias</h3>
                    <button onclick="closePreferencesModal()" class="text-gray-400 hover:text-gray-600">
                        <i class="fas fa-times text-xl"></i>
                    </button>
                </div>
                <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
                    <!-- Theme Settings -->
                    <div class="space-y-4">
                        <h4 class="text-md font-medium text-gray-900">Tema</h4>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Modo de Color</label>
                            <select id="themeSelect" class="w-full border border-gray-300 rounded-md px-3 py-2 text-sm">
                                <option value="light">Claro</option>
                                <option value="dark">Oscuro</option>
                                <option value="auto">Automático</option>
                            </select>
                        </div>
                    </div>

                    <!-- Notification Settings -->
                    <div class="space-y-4">
                        <h4 class="text-md font-medium text-gray-900">Notificaciones</h4>
                        <div class="space-y-2">
                            <label class="flex items-center">
                                <input type="checkbox" name="email" class="notification-toggle rounded border-gray-300 text-blue-600 shadow-sm focus:border-blue-300 focus:ring focus:ring-blue-200 focus:ring-opacity-50">
                                <span class="ml-2 text-sm text-gray-700">Notificaciones por email</span>
                            </label>
                            <label class="flex items-center">
                                <input type="checkbox" name="push" class="notification-toggle rounded border-gray-300 text-blue-600 shadow-sm focus:border-blue-300 focus:ring focus:ring-blue-200 focus:ring-opacity-50">
                                <span class="ml-2 text-sm text-gray-700">Notificaciones push</span>
                            </label>
                            <label class="flex items-center">
                                <input type="checkbox" name="dashboard" class="notification-toggle rounded border-gray-300 text-blue-600 shadow-sm focus:border-blue-300 focus:ring focus:ring-blue-200 focus:ring-opacity-50">
                                <span class="ml-2 text-sm text-gray-700">Notificaciones del dashboard</span>
                            </label>
                            <label class="flex items-center">
                                <input type="checkbox" name="assets" class="notification-toggle rounded border-gray-300 text-blue-600 shadow-sm focus:border-blue-300 focus:ring focus:ring-blue-200 focus:ring-opacity-50">
                                <span class="ml-2 text-sm text-gray-700">Notificaciones de assets</span>
                            </label>
                            <label class="flex items-center">
                                <input type="checkbox" name="audit" class="notification-toggle rounded border-gray-300 text-blue-600 shadow-sm focus:border-blue-300 focus:ring focus:ring-blue-200 focus:ring-opacity-50">
                                <span class="ml-2 text-sm text-gray-700">Notificaciones de auditoría</span>
                            </label>
                        </div>
                    </div>

                    <!-- Dashboard Layout -->
                    <div class="space-y-4">
                        <h4 class="text-md font-medium text-gray-900">Layout del Dashboard</h4>
                        <div class="space-y-2">
                            <button id="saveDashboardLayout" class="w-full bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 transition duration-200">
                                <i class="fas fa-save mr-2"></i>Guardar Layout Actual
                            </button>
                            <button id="resetDashboardLayout" class="w-full bg-gray-600 text-white px-4 py-2 rounded-md hover:bg-gray-700 transition duration-200">
                                <i class="fas fa-undo mr-2"></i>Resetear Layout
                            </button>
                        </div>
                    </div>

                </div>
            </div>
        </div>
    </div>


    <!-- User Management Modals -->
    <!-- Create User Modal -->
    <div id="createUserModal" class="fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full hidden" style="z-index: 100000 !important;">
        <div class="relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white">
            <div class="mt-3">
                <h3 class="text-lg font-medium text-gray-900 mb-4">Crear Nuevo Usuario</h3>
                <form id="createUserForm" class="space-y-4">
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-1">Nombre Completo</label>
                        <input type="text" id="userFullName" required class="w-full border border-gray-300 rounded-md px-3 py-2 text-sm">
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-1">Nombre de Usuario</label>
                        <input type="text" id="userUsername" required class="w-full border border-gray-300 rounded-md px-3 py-2 text-sm">
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-1">Email</label>
                        <input type="email" id="userEmail" required class="w-full border border-gray-300 rounded-md px-3 py-2 text-sm">
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-1">Contraseña</label>
                        <input type="password" id="userPassword" required class="w-full border border-gray-300 rounded-md px-3 py-2 text-sm">
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-1">Rol</label>
                        <select id="userRole" required class="w-full border border-gray-300 rounded-md px-3 py-2 text-sm">
                            <option value="auditor">Auditor</option>
                            <option value="admin">Administrador</option>
                        </select>
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-1">Ubicación</label>
                        <select id="userLocation" required class="w-full border border-gray-300 rounded-md px-3 py-2 text-sm">
                            <option value="REMOTO">Remoto</option>
                            <option value="MX">México</option>
                            <option value="CL">Chile</option>
                        </select>
                    </div>
                    <div class="flex justify-end space-x-3 pt-4">
                        <button type="button" onclick="closeCreateUserModal()" class="px-4 py-2 text-sm font-medium text-gray-700 bg-gray-200 rounded-md hover:bg-gray-300">
                            Cancelar
                        </button>
                        <button type="submit" class="px-4 py-2 text-sm font-medium text-white bg-primary-600 rounded-md hover:bg-primary-700">
                            Crear Usuario
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Edit User Modal -->
    <div id="editUserModal" class="fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full hidden" style="z-index: 100000 !important;">
        <div class="relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white">
            <div class="mt-3">
                <h3 class="text-lg font-medium text-gray-900 mb-4">Editar Usuario</h3>
                <form id="editUserForm" class="space-y-4">
                    <input type="hidden" id="editUserId">
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-1">Nombre Completo</label>
                        <input type="text" id="editUserFullName" required class="w-full border border-gray-300 rounded-md px-3 py-2 text-sm">
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-1">Nombre de Usuario</label>
                        <input type="text" id="editUserUsername" required class="w-full border border-gray-300 rounded-md px-3 py-2 text-sm">
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-1">Email</label>
                        <input type="email" id="editUserEmail" required class="w-full border border-gray-300 rounded-md px-3 py-2 text-sm">
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-1">Rol</label>
                        <select id="editUserRole" required class="w-full border border-gray-300 rounded-md px-3 py-2 text-sm">
                            <option value="auditor">Auditor</option>
                            <option value="admin">Administrador</option>
                        </select>
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-1">Ubicación</label>
                        <select id="editUserLocation" required class="w-full border border-gray-300 rounded-md px-3 py-2 text-sm">
                            <option value="REMOTO">Remoto</option>
                            <option value="MX">México</option>
                            <option value="CL">Chile</option>
                        </select>
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-1">Estado</label>
                        <select id="editUserStatus" required class="w-full border border-gray-300 rounded-md px-3 py-2 text-sm">
                            <option value="true">Activo</option>
                            <option value="false">Inactivo</option>
                        </select>
                    </div>
                    <div class="flex justify-end space-x-3 pt-4">
                        <button type="button" onclick="closeEditUserModal()" class="px-4 py-2 text-sm font-medium text-gray-700 bg-gray-200 rounded-md hover:bg-gray-300">
                            Cancelar
                        </button>
                        <button type="submit" class="px-4 py-2 text-sm font-medium text-white bg-primary-600 rounded-md hover:bg-primary-700">
                            Guardar Cambios
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Change Password Modal -->
    <div id="changePasswordModal" class="fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full hidden z-50">
        <div class="relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white">
            <div class="mt-3">
                <h3 class="text-lg font-medium text-gray-900 mb-4">Cambiar Contraseña</h3>
                <form id="changePasswordForm" class="space-y-4">
                    <input type="hidden" id="changePasswordUserId">
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-1">Nueva Contraseña</label>
                        <input type="password" id="newPassword" required class="w-full border border-gray-300 rounded-md px-3 py-2 text-sm">
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-1">Confirmar Contraseña</label>
                        <input type="password" id="confirmPassword" required class="w-full border border-gray-300 rounded-md px-3 py-2 text-sm">
                    </div>
                    <div class="flex justify-end space-x-3 pt-4">
                        <button type="button" onclick="closeChangePasswordModal()" class="px-4 py-2 text-sm font-medium text-gray-700 bg-gray-200 rounded-md hover:bg-gray-300">
                            Cancelar
                        </button>
                        <button type="submit" class="px-4 py-2 text-sm font-medium text-white bg-primary-600 rounded-md hover:bg-primary-700">
                            Cambiar Contraseña
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Audit Section -->
    <div id="audit-section" class="section hidden">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
            <div class="bg-white rounded-lg shadow card-shadow">
                <div class="px-6 py-4 border-b border-gray-200 flex justify-between items-center">
                    <h3 class="text-lg font-medium text-gray-900">Log de Auditoría</h3>
                    <button onclick="exportAuditLogs()" class="bg-green-600 text-white px-4 py-2 rounded-md hover:bg-green-700 transition duration-200">
                        <i class="fas fa-download mr-2"></i>Exportar
                    </button>
                </div>
                <div class="p-6">
                    <!-- Filters -->
                    <div class="mb-6 grid grid-cols-1 md:grid-cols-4 gap-4">
                        <select id="auditActionFilter" class="border border-gray-300 rounded-md px-3 py-2 text-sm">
                            <option value="">Todas las acciones</option>
                            <option value="LOGIN">Login</option>
                            <option value="ASSET_ASSIGNED">Asset Asignado</option>
                            <option value="ASSET_RETURNED">Asset Devuelto</option>
                            <option value="USER_CREATED">Usuario Creado</option>
                        </select>
                        <select id="auditLocationFilter" class="border border-gray-300 rounded-md px-3 py-2 text-sm">
                            <option value="">Todas las ubicaciones</option>
                            <option value="MX">México</option>
                            <option value="CL">Chile</option>
                            <option value="REMOTO">Remoto</option>
                        </select>
                        <input type="date" id="auditStartDate" class="border border-gray-300 rounded-md px-3 py-2 text-sm">
                        <input type="date" id="auditEndDate" class="border border-gray-300 rounded-md px-3 py-2 text-sm">
                    </div>
                    <!-- Audit Table -->
                    <div class="overflow-x-auto">
                        <table class="min-w-full divide-y divide-gray-200">
                            <thead class="bg-gray-50">
                                <tr>
                                    <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Fecha</th>
                                    <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Acción</th>
                                    <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Usuario</th>
                                    <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Recurso</th>
                                    <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Ubicación</th>
                                    <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Detalles</th>
                                    <th class="px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider">Acciones</th>
                                </tr>
                            </thead>
                            <tbody id="auditTableBody" class="bg-white divide-y divide-gray-200">
                                <!-- Audit logs will be populated here -->
                            </tbody>
                        </table>
                    </div>
                    <!-- Pagination -->
                    <div id="auditPagination" class="mt-6 flex justify-between items-center">
                        <!-- Pagination will be populated here -->
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Scripts -->
    <script src="js/auth.js?v=14"></script>
    <script src="js/dashboard.js?v=3"></script>
    <script src="js/assets.js?v=2"></script>
    <script src="js/audit.js?v=3"></script>
    <script src="js/employees.js?v=3"></script>
    <!-- Debug scripts disabled to prevent UI overrides -->
    <!-- <script src="js/navigation-debug.js?v=1"></script> -->
    <script src="js/secure-proxy.js?v=2"></script>
    <script src="js/theme.js?v=3"></script>
    <script src="js/toast.js?v=3"></script>
    <script src="js/loading.js?v=3"></script>
    <script src="js/tooltip.js?v=3"></script>
    <script src="js/shortcuts.js?v=3"></script>
    <script src="js/search.js?v=1"></script>
    <script src="js/animations.js?v=4"></script>
    <script src="js/icons.js?v=4"></script>
    <script src="js/colors.js?v=4"></script>
    <script src="js/cards.js?v=4"></script>
    <script src="js/progress-rings.js?v=4"></script>
    <script src="js/onboarding.js?v=2"></script>
    <script src="js/offboarding.js?v=2"></script>
    <script src="js/preferences.js?v=2"></script>
    <script src="js/pdf-editor.js?v=1"></script>
    <script src="js/pdf-signer.js"></script>
    <script src="js/users.js?v=999"></script>
    <script src="js/offline.js?v=1"></script>
    <script src="js/calendar.js?v=1"></script>
    <script src="js/reminders.js?v=1"></script>
    <script src="js/app.js?v=10"></script>
    
    <!-- Custom Modal Styles -->
    <style>
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: rgba(0, 0, 0, 0.5);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 1000;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
        }
        
        .modal-overlay.show {
            opacity: 1;
            visibility: visible;
        }
        
        .modal-content {
            background: white;
            border-radius: 12px;
            padding: 2rem;
            max-width: 400px;
            width: 90%;
            box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
            transform: scale(0.9);
            transition: transform 0.3s ease;
        }
        
        .modal-overlay.show .modal-content {
            transform: scale(1);
        }
        
        .modal-header {
            display: flex;
            align-items: center;
            margin-bottom: 1rem;
        }
        
        .modal-icon {
            width: 48px;
            height: 48px;
            background: linear-gradient(135deg, #3B82F6, #1D4ED8);
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 1rem;
        }
        
        .modal-title {
            font-size: 1.25rem;
            font-weight: 600;
            color: #1F2937;
            margin: 0;
        }
        
        .modal-message {
            color: #6B7280;
            line-height: 1.6;
            margin-bottom: 1.5rem;
        }
        
        .modal-button {
            background: linear-gradient(135deg, #3B82F6, #1D4ED8);
            color: white;
            border: none;
            padding: 0.75rem 1.5rem;
            border-radius: 8px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.2s ease;
            width: 100%;
        }
        
        .modal-button:hover {
            transform: translateY(-1px);
            box-shadow: 0 4px 12px rgba(59, 130, 246, 0.4);
        }
    </style>

    <!-- Custom Modal HTML -->
    <div id="forgotPasswordModal" class="modal-overlay">
        <div class="modal-content">
            <div class="modal-header">
                <div class="modal-icon">
                    <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"></path>
                    </svg>
                </div>
                <h3 class="modal-title">Recuperar Contraseña</h3>
            </div>
            <p class="modal-message">
                ¡Si te olvidaste de tu contraseña, no te preocupes!, Contacta a algun Admin de Helpdesk 
            </p>
            <button class="modal-button" onclick="closeForgotPasswordModal()">
                Entendido
            </button>
        </div>
    </div>

    <!-- Modal Functions -->
    <script>
        function showForgotPasswordPopup() {
            const modal = document.getElementById('forgotPasswordModal');
            modal.classList.add('show');
            document.body.style.overflow = 'hidden'; // Prevent background scrolling
        }
        
        function closeForgotPasswordModal() {
            const modal = document.getElementById('forgotPasswordModal');
            modal.classList.remove('show');
            document.body.style.overflow = 'auto'; // Restore scrolling
        }
        
        // Close modal when clicking outside
        document.getElementById('forgotPasswordModal').addEventListener('click', function(e) {
            if (e.target === this) {
                closeForgotPasswordModal();
            }
        });
        
        // Close modal with Escape key
        document.addEventListener('keydown', function(e) {
            if (e.key === 'Escape') {
                closeForgotPasswordModal();
            }
        });
        
        // Navbar scroll effect
        let lastScrollTop = 0;
        const header = document.getElementById('mainHeader');
        
        if (header) {
            window.addEventListener('scroll', function() {
                const scrollTop = window.pageYOffset || document.documentElement.scrollTop;
                
                if (scrollTop > 10) {
                    header.classList.add('header-scrolled');
                } else {
                    header.classList.remove('header-scrolled');
                }
                
                lastScrollTop = scrollTop;
            }, { passive: true });
        }
        
        // Toggle password visibility
        document.addEventListener('DOMContentLoaded', function() {
            const togglePassword = document.getElementById('togglePassword');
            const passwordInput = document.getElementById('password');
            const eyeIcon = document.getElementById('eyeIcon');
            
            if (togglePassword && passwordInput && eyeIcon) {
                togglePassword.addEventListener('click', function() {
                    const type = passwordInput.getAttribute('type') === 'password' ? 'text' : 'password';
                    passwordInput.setAttribute('type', type);
                    
                    // Toggle eye icon
                    if (type === 'text') {
                        eyeIcon.innerHTML = `
                            <path stroke-linecap="round" stroke-linejoin="round" d="M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.878 9.878L3 3m6.878 6.878L21 21" />
                        `;
                    } else {
                        eyeIcon.innerHTML = `
                            <path stroke-linecap="round" stroke-linejoin="round" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z" />
                            <path stroke-linecap="round" stroke-linejoin="round" d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z" />
                        `;
                    }
                });
            }
        });
    </script>
</body>
</html>
